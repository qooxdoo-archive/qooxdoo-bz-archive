<bug>
          <bug_id>2290</bug_id>
          
          <creation_ts>2009-04-23 14:05:00 +0200</creation_ts>
          <short_desc>Provide loader logic for browser variant builds</short_desc>
          <delta_ts>2011-07-18 13:41:40 +0200</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>1</classification_id>
          <classification>Unclassified</classification>
          <product>framework</product>
          <component>core.io</component>
          <version>0.8.2</version>
          <rep_platform>All</rep_platform>
          <op_sys>All</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          
          
          
          <priority>P3</priority>
          <bug_severity>enhancement</bug_severity>
          <target_milestone>unspecified</target_milestone>
          
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Thomas Herchenroeder">thron7</reporter>
          <assigned_to name="Thomas Herchenroeder">thron7</assigned_to>
          <cc>info</cc>
          <qa_contact name="qooxdoo bugs mailing list">qooxdoo-bugs</qa_contact>
          <cf_browser>---</cf_browser>
          

      

      

      

          <long_desc isprivate="0">
            <commentid>9539</commentid>
            <who name="Thomas Herchenroeder">thron7</who>
            <bug_when>2009-04-23 14:05:23 +0200</bug_when>
            <thetext>Currently, when browser-specific builds are created, there is no functionality 
available to pick the right one for a particular client.

This functionality only requires a coars engine detection and should be added, 
either in the form of a specialized index.html with embedded Javascript, or a 
separate loader script. In either way, the correct variant script would then be 
loaded.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>9647</commentid>
            <who name="Andreas Ecker">qooxdoo</who>
            <bug_when>2009-04-24 19:28:10 +0200</bug_when>
            <thetext>Yes, it is really a pity that that we lack promoting such (often unparalleled?) features to the typical users. There simply seem to be too many powerful features available but a bit buried in either framework or tool chain. 

Well, so much for a Friday evening framework blues. Sorry &#39;bout that. ;-) Anyway, let&#39;s try to address one cool qooxdoo feature after the other.

On a more technical side note, browser detection and switching is often rather done on a webserver level ((e.g. Apache, typically based on the user agent string). This allows for a client-specific content delivery without first detecting clients in the browser. The server-side option of browser switching should be addressed by proper documentation in the wiki by the time client-side detection is in place (i.e. this bug is resolved).
</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>9664</commentid>
            <who name="Sebastian Werner">info</who>
            <bug_when>2009-04-27 09:43:56 +0200</bug_when>
            <thetext>There is also a lot more missing. Really interesting is the GWT video regarding &quot;Deferred Binding&quot;. Their loading mechnism really sounds great as it offer support for different variant sets, output platforms, languages in one system and also cares about build times and this way also fix cache-related issues:

http://www.youtube.com/watch?v=nvti32k4xyU</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>9665</commentid>
            <who name="Sebastian Werner">info</who>
            <bug_when>2009-04-27 09:45:46 +0200</bug_when>
            <thetext>The best way IMHO is to have some kind of redirection HTML file which is generated by the build system.

In my current survey to support different kind of platforms it is also required to have different HTML files for the various platforms. This means that some kind of single-HTML file which just loads the correct JS file is not enough.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>10048</commentid>
            <who name="Andreas Ecker">qooxdoo</who>
            <bug_when>2009-05-20 10:09:54 +0200</bug_when>
            <thetext>@Alex, could you start with a simple includer script, maybe just adding that to the wiki? A more advanced solution may not be targeted very soon, so you may want to get yourself unassigned afterwards.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>11861</commentid>
            <who name="Alexander Steitz">alexander.steitz</who>
            <bug_when>2009-09-03 11:23:20 +0200</bug_when>
            <thetext>Not in the time frame of the 0.8.3 release. Moving on to 0.9</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>12014</commentid>
            <who name="Sebastian Werner">info</who>
            <bug_when>2009-09-08 16:40:31 +0200</bug_when>
            <thetext>It might be too specific to limit this to variants. I am currently more thinking of a mutation/set selector which combines different other aspects of a build as well e.g. languages, variants, settings, application class, themes, etc. Maybe it&#39;s better to solve this the big way.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>14770</commentid>
            <who name="Andreas Ecker">qooxdoo</who>
            <bug_when>2009-11-24 20:26:20 +0100</bug_when>
            <thetext>mass renaming of 0.9 target to 1.0 (for issues with status &quot;NEW&quot;)</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>15109</commentid>
            <who name="Alexander Steitz">alexander.steitz</who>
            <bug_when>2009-11-30 16:08:02 +0100</bug_when>
            <thetext>Moving on to target 1.0.1</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>16239</commentid>
            <who name="Alexander Steitz">alexander.steitz</who>
            <bug_when>2010-01-15 15:43:23 +0100</bug_when>
            <thetext>accepting</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>16240</commentid>
            <who name="Alexander Steitz">alexander.steitz</who>
            <bug_when>2010-01-15 16:03:16 +0100</bug_when>
            <thetext>I&#39;ve just committed a basic startup script as starting point to the qooxdoo-contrib repository under Bugs/2290. 

== Open issues ==
The startup script assumes that the generator fills out the JS file to load. This has to be done by the generator since the filenames of the different browser variants are free choosable.

Passing this bug to Thomas for tool chain support.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>16524</commentid>
            <who name="Andreas Ecker">qooxdoo</who>
            <bug_when>2010-01-27 16:31:04 +0100</bug_when>
            <thetext>moved to target 1.0.2</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>26079</commentid>
            <who name="Thomas Herchenroeder">thron7</who>
            <bug_when>2011-07-18 13:41:40 +0200</bug_when>
            <thetext>This has been solved with the Feature Configuration Editor (bug#4985). The 
corresponding manual section [1] gives an example how to achieve something like 
this bug&#39;s intent in a custom index.html. But with the shift to feature 
detection, it seems almost impossible to solve this in a generic way, ie. 
provide a full feature detection in the loader, and then choose a built script 
the matches the found feature set, or matches it as closely as possible.

[1] 
http://manual.qooxdoo.org/1.5.x/pages/application/featureconfigeditor.html#loading-a-specific-variant</thetext>
          </long_desc>
      
      

    </bug>