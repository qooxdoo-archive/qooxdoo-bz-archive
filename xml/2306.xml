<bug>
          <bug_id>2306</bug_id>
          
          <creation_ts>2009-04-24 23:13:00 +0200</creation_ts>
          <short_desc>Update and improve qx.bom.Request</short_desc>
          <delta_ts>2014-03-03 15:21:44 +0100</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>1</classification_id>
          <classification>Unclassified</classification>
          <product>framework</product>
          <component>core.io</component>
          <version>master</version>
          <rep_platform>All</rep_platform>
          <op_sys>All</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>FIXED</resolution>
          
          
          
          
          
          <priority>P3</priority>
          <bug_severity>enhancement</bug_severity>
          <target_milestone>1.0</target_milestone>
          
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Sebastian Werner">info</reporter>
          <assigned_to name="Alexander Steitz">alexander.steitz</assigned_to>
          <cc>alexander.steitz</cc>
          <qa_contact name="qooxdoo bugs mailing list">qooxdoo-bugs</qa_contact>
          <cf_browser>---</cf_browser>
          

      

      

      

          <long_desc isprivate="0">
            <commentid>9648</commentid>
            <who name="Sebastian Werner">info</who>
            <bug_when>2009-04-24 23:13:19 +0200</bug_when>
            <thetext>There are a few things on my list for qx.bom.Request:

* Remove timeout support (was modified in some way so it not work anymore in IE8)
* Make class use qx.Class.define instead of qx.Bootstrap.define to get real destructor with correct unload handling.
* Default of async was never implemented and documented as &quot;false&quot; by default. This is definitely improvable. The new code works and defaults to &quot;true&quot;.

I would suggest to add timeout support to qx.io2.HttpTransport instead. qx.bom is normally only used for cross-browser wrappers. And timeout is mainly nowhere support nowadays - so it is more a comfort feature for a higher-level class.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>9649</commentid>
            <who name="Sebastian Werner">info</who>
            <bug_when>2009-04-24 23:13:34 +0200</bug_when>
            <thetext>to me</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>9650</commentid>
            <who name="Sebastian Werner">info</who>
            <bug_when>2009-04-24 23:25:10 +0200</bug_when>
            <thetext>The patch will also:
* improve parameter handing in open()
* improve implementation of abort()
* uses real destructors and automatically disposes when completed
</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>9654</commentid>
              <attachid>498</attachid>
            <who name="Sebastian Werner">info</who>
            <bug_when>2009-04-24 23:48:46 +0200</bug_when>
            <thetext>Created attachment 498
Contains the mentioned improvements</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>9683</commentid>
            <who name="Alexander Steitz">alexander.steitz</who>
            <bug_when>2009-04-27 13:00:00 +0200</bug_when>
            <thetext>Sidenote: This bug is related to Bug #2308 (Improve support for HTTP requests)</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>11359</commentid>
            <who name="Sebastian Werner">info</who>
            <bug_when>2009-08-16 10:12:48 +0200</bug_when>
            <thetext>Can anybody please give me feedback if it&#39;s allowed for me to change stuff here? I have suggested the changes to made but never got any feedback. Thanks.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>11362</commentid>
            <who name="Andreas Ecker">qooxdoo</who>
            <bug_when>2009-08-17 10:14:16 +0200</bug_when>
            <thetext>Sebastian, please discuss the technical issues with Alex after his return (i.e. after 2009-08-24), while we need to figure out the other stuff, thanks.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>11475</commentid>
            <who name="Andreas Ecker">qooxdoo</who>
            <bug_when>2009-08-24 23:11:28 +0200</bug_when>
            <thetext>.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>11742</commentid>
            <who name="Andreas Ecker">qooxdoo</who>
            <bug_when>2009-09-01 11:29:20 +0200</bug_when>
            <thetext>Alex, assigned to you for review. It might be reasonable to consolidate it for 0.9 rather than 0.8.3.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>11864</commentid>
            <who name="Alexander Steitz">alexander.steitz</who>
            <bug_when>2009-09-03 11:24:29 +0200</bug_when>
            <thetext>I&#39;ll take a look and check if it&#39;s fitting in the time frame of the 0.8.3 release.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>11894</commentid>
            <who name="Alexander Steitz">alexander.steitz</who>
            <bug_when>2009-09-04 15:34:16 +0200</bug_when>
            <thetext>Looks okay at the first glance. Need to check it further, add unit tests etc.

-&gt; move to 0.9</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>12187</commentid>
            <who name="Alexander Steitz">alexander.steitz</who>
            <bug_when>2009-09-10 19:18:29 +0200</bug_when>
            <thetext>accepting</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>12927</commentid>
            <who name="Alexander Steitz">alexander.steitz</who>
            <bug_when>2009-10-07 14:31:42 +0200</bug_when>
            <thetext>Back to my list. Fixing defects are more important at the moment.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>14773</commentid>
            <who name="Andreas Ecker">qooxdoo</who>
            <bug_when>2009-11-24 20:26:21 +0100</bug_when>
            <thetext>mass renaming of 0.9 target to 1.0 (for issues with status &quot;NEW&quot;)</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>15660</commentid>
            <who name="Alexander Steitz">alexander.steitz</who>
            <bug_when>2009-12-10 15:21:38 +0100</bug_when>
            <thetext>accepting</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>15665</commentid>
            <who name="Alexander Steitz">alexander.steitz</who>
            <bug_when>2009-12-10 16:01:53 +0100</bug_when>
            <thetext>Fixed with Revision #21061

The part of the patch removing the timout support was not applied.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>15678</commentid>
            <who name="Sebastian Werner">info</who>
            <bug_when>2009-12-11 10:17:35 +0100</bug_when>
            <thetext>Sorry, there seems to be another problem when using the timeouts which was introduced by this change: The timeout handler was never cleared.

Also in this patch:
* Minor tweaks for dispose() section
* Added cleanup of timeout to dispose()
* Improved function bind to give details about the affected object/function

Patch comes next.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>15679</commentid>
              <attachid>675</attachid>
            <who name="Sebastian Werner">info</who>
            <bug_when>2009-12-11 10:18:25 +0100</bug_when>
            <thetext>Created attachment 675
The changes to qx.bom.Request and qx.lang.Function</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>15691</commentid>
            <who name="Alexander Steitz">alexander.steitz</who>
            <bug_when>2009-12-11 11:26:56 +0100</bug_when>
            <thetext>Added patch with Revision #21082</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>37401</commentid>
            <who name="Martin Wittemann">martin.wittemann</who>
            <bug_when>2014-03-03 15:21:44 +0100</bug_when>
            <thetext>Closed all bugs already shipped with a release.</thetext>
          </long_desc>
      
          <attachment isobsolete="0" ispatch="1" isprivate="0" isurl="0">
            <attachid>498</attachid>
            <date>2009-04-24 23:48:00 +0200</date>
            <delta_ts>2009-04-24 23:48:46 +0200</delta_ts>
            <desc>Contains the mentioned improvements</desc>
            <filename>request.patch</filename>
            <type>text/plain</type>
            <size>8622</size>
            <attacher>info</attacher>
            
              <data encoding="base64">SW5kZXg6IGZyYW1ld29yay9zb3VyY2UvY2xhc3MvcXgvYm9tL1JlcXVlc3QuanMKPT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PQotLS0gZnJhbWV3b3JrL3NvdXJjZS9jbGFzcy9xeC9ib20vUmVxdWVzdC5qcwkoUmV2aXNpb24g
MTg4ODgpCisrKyBmcmFtZXdvcmsvc291cmNlL2NsYXNzL3F4L2JvbS9SZXF1ZXN0LmpzCShBcmJl
aXRza29waWUpCkBAIC01LDcgKzUsOCBAQAogICAgaHR0cDovL3Fvb3hkb28ub3JnCiAKICAgIENv
cHlyaWdodDoKLSAgICAgMjAwNC0yMDA4IDEmMSBJbnRlcm5ldCBBRywgR2VybWFueSwgaHR0cDov
L3d3dy4xdW5kMS5kZQorICAgICAyMDA0LTIwMDkgMSYxIEludGVybmV0IEFHLCBHZXJtYW55LCBo
dHRwOi8vd3d3LjF1bmQxLmRlCisgICAgIDIwMDkgU2ViYXN0aWFuIFdlcm5lciwgaHR0cDovL3Nl
YmFzdGlhbi13ZXJuZXIubmV0CiAKICAgIExpY2Vuc2U6CiAgICAgIExHUEw6IGh0dHA6Ly93d3cu
Z251Lm9yZy9saWNlbnNlcy9sZ3BsLmh0bWwKQEAgLTQ2LDcgKzQ3LDYgQEAKICAqIEFkZGl0aW9u
YWwgc3VwcG9ydCBmb3I6CiAgKgogICogKiB0aGUgbWV0aG9kcyB7QGxpbmsgI2dldFJlcXVlc3RI
ZWFkZXJ9IGFuZCB7QGxpbmsgI3JlbW92ZVJlcXVlc3RIZWFkZXJ9Ci0gKiAqIHRoZSA8Y29kZT50
aW1lb3V0PC9jb2RlPiBwcm9wZXJ0eSBhbmQgdGhlIDxjb2RlPm9udGltZW91dDwvY29kZT4gZXZl
bnQKICAqICogdGhlIDxjb2RlPm9uYWJvcnQ8L2NvZGU+IGV2ZW50CiAgKiAqIHRoZSA8Y29kZT5v
bmxvYWQ8L2NvZGU+IGV2ZW50CiAgKiAqIHRoZSA8Y29kZT5vbmVycm9yPC9jb2RlPiBldmVudApA
QCAtNTcsOCArNTcsMTIgQEAKICAqIEZvciBhbiBoaWdoZXIgbGV2ZWwgaW1wbGVtZW50YXRpb24g
d2l0aCBhZGRpdGlvbmFsIGNvbWZvcnQgcGxlYXNlIGhhdmUgYSBsb29rCiAgKiBhdCB7QGxpbmsg
cXguaW8yLkh0dHBSZXF1ZXN0fS4KICAqLwotcXguQm9vdHN0cmFwLmRlZmluZSgicXguYm9tLlJl
cXVlc3QiLAorcXguQ2xhc3MuZGVmaW5lKCJxeC5ib20uUmVxdWVzdCIsCiB7CisgIGV4dGVuZCA6
IHF4LmNvcmUuT2JqZWN0LAorICAKKyAgCisgIAogICAvKgogICAqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KgogICAgICBDT05TVFJVQ1RPUgpAQCAtNjcsNiArNzEsOCBAQAogCiAgIGNvbnN0cnVjdCA6IGZ1
bmN0aW9uKCkKICAgeworICAgIHRoaXMuYmFzZShhcmd1bWVudHMpOworICAgIAogICAgIHRoaXMu
X19oZWFkZXJzID0ge307CiAgICAgdGhpcy5fX3htbGh0dHAgPSB0aGlzLl9fY3JlYXRlTmF0aXZl
KCk7CiAgIH0sCkBAIC0xMDEsMTIgKzEwNyw5IEBACiAKICAgbWVtYmVycyA6CiAgIHsKLQogICAg
IF9fYXN5bmMgOiBudWxsLAogICAgIF9fc3RhdGVMaXN0ZW5lciA6IG51bGwsCiAgICAgX194bWxo
dHRwIDogbnVsbCwKLSAgICBfX3RpbWVvdXRMaXN0ZW5lciA6IG51bGwsCi0gICAgX190aW1lb3V0
SGFuZGxlIDogbnVsbCwKICAgICBfX2Fib3J0ZWQgOiBudWxsLAogICAgIF9fbGFzdEZpcmVkIDog
bnVsbCwKICAgICBfX2hlYWRlcnMgOiBudWxsLApAQCAtMTI2LDEzICsxMjksOCBAQAogICAgIC8q
KiB7U3RyaW5nfSBTdHJpbmcgbWVzc2FnZSBhY2NvbXBhbnlpbmcgdGhlIHN0YXR1cyBjb2RlICov
CiAgICAgc3RhdHVzVGV4dCA6ICIiLAogCi0gICAgLyoqIHtJbnRlZ2VyfSBOdW1iZXIgb2YgbWls
bGlzZWNvbmRzIHVudGlsIGEgdGltZW91dCBvY2NvdXIgKi8KLSAgICB0aW1lb3V0IDogMCwKIAog
Ci0KLQotCiAgICAgLyoKICAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgIEVWRU5UIExJU1RF
TkVSCkBAIC0xNTMsMTkgKzE1MSw2IEBACiAKIAogICAgIC8qKgotICAgICAqIEV2ZW50IGhhbmRs
ZXIgZm9yIGFuIGV2ZW50IHRoYXQgZmlyZXMgd2hlbiB0aGUgdGltZW91dCBsaW1pdCBpcyByZWFj
aGVkLgotICAgICAqCi0gICAgICogVGhpcyBtZXRob2QgbmVlZHMgdG8gYmUgb3ZlcndyaXR0ZW4g
YnkgdGhlIHVzZXIgdG8gZ2V0Ci0gICAgICogaW5mb3JtZWQgYWJvdXQgdGhlIHRpbWVvdXQuCi0g
ICAgICoKLSAgICAgKiBAcmV0dXJuIHt2b2lkfQotICAgICAqLwotICAgIG9udGltZW91dCA6IGZ1
bmN0aW9uKCkgewotICAgICAgLy8gZW1wdHkKLSAgICB9LAotCi0KLSAgICAvKioKICAgICAgKiBN
ZXRob2Qgd2hpY2ggaXMgZXhlY3V0ZWQgd2hlbiB0aGUgcmVxdWVzdCB3YXMgZmluaXNoZWQgc3Vj
Y2Vzc2Z1bGx5LgogICAgICAqCiAgICAgICogVGhpcyBtZXRob2QgbmVlZHMgdG8gYmUgb3Zlcndy
aXR0ZW4gYnkgdGhlIHVzZXIgdG8gZ2V0CkBAIC0yMTgsMTMgKzIwMywxNyBAQAogICAgICAqCiAg
ICAgICogQHBhcmFtIG1ldGhvZCB7U3RyaW5nfSBUaGUgSFRUUCBtZXRob2QgdG8gdXNlLiBWYWxp
ZCB2YWx1ZXM6IEdFVCwgUE9TVCwgUFVULCBIRUFEIGFuZCBERUxFVEUuCiAgICAgICogQHBhcmFt
IHVybCB7U3RyaW5nfSBUaGUgVVJMIHRvIG9wZW4KLSAgICAgKiBAcGFyYW0gYXN5bmMge0Jvb2xl
YW4/ZmFsc2V9IFdoZXRoZXIgdGhlIHJlcXVlc3Qgc2hvdWxkIGJlIGFzeW5jaHJvbm91cworICAg
ICAqIEBwYXJhbSBhc3luYyB7Qm9vbGVhbj90cnVlfSBXaGV0aGVyIHRoZSByZXF1ZXN0IHNob3Vs
ZCBiZSBhc3luY2hyb25vdXMuCiAgICAgICogQHBhcmFtIHVzZXJuYW1lIHtTdHJpbmc/bnVsbH0g
T3B0aW9uYWwgdXNlciBuYW1lCiAgICAgICogQHBhcmFtIHBhc3N3b3JkIHtTdHJpbmc/bnVsbH0g
T3B0aW9uYWwgcGFzc3dvcmQKICAgICAgKiBAcmV0dXJuIHt2b2lkfQogICAgICAqLwogICAgIG9w
ZW4gOiBmdW5jdGlvbihtZXRob2QsIHVybCwgYXN5bmMsIHVzZXJuYW1lLCBwYXNzd29yZCkKICAg
ICB7CisgICAgICBpZiAoYXN5bmMgPT0gbnVsbCkgeworICAgICAgICBhc3luYyA9IHRydWU7Cisg
ICAgICB9CisgICAgICAKICAgICAgIC8vIFNhdmUgYXN5bmMgcGFyYW1ldGVyIGZvciBmaXhpbmcg
R2Vja28gYnVnIHdpdGggbWlzc2luZyByZWFkeXN0YXRlY2hhbmdlIGluIHN5bmNocm9ub3VzIHJl
cXVlc3RzCiAgICAgICB0aGlzLl9fYXN5bmMgPSBhc3luYzsKIApAQCAtMjMyLDIzICsyMjEsMTUg
QEAKICAgICAgIHRoaXMuX19zdGF0ZUxpc3RlbmVyID0gcXgubGFuZy5GdW5jdGlvbi5iaW5kKHRo
aXMuX19vbk5hdGl2ZVJlYWR5U3RhdGVDaGFuZ2UsIHRoaXMpOwogICAgICAgdGhpcy5fX3htbGh0
dHAub25yZWFkeXN0YXRlY2hhbmdlID0gdGhpcy5fX3N0YXRlTGlzdGVuZXI7CiAKLSAgICAgIHRo
aXMuX190aW1lb3V0TGlzdGVuZXIgPSBxeC5sYW5nLkZ1bmN0aW9uLmJpbmQodGhpcy5fX29uTmF0
aXZlVGltZW91dCwgdGhpcyk7Ci0KLSAgICAgIC8vIHNldHRpbmcgIm9udGltZW91dCIgaXMgbm90
IHBvc3NpYmxlIGluIElFCi0gICAgICBpZiAoIXF4LmNvcmUuVmFyaWFudC5pc1NldCgicXguY2xp
ZW50IiwgIm1zaHRtbCIpKQotICAgICAgewotICAgICAgICB0aGlzLl9feG1saHR0cC5vbnRpbWVv
dXQgPSB0aGlzLl9fdGltZW91dExpc3RlbmVyOwotICAgICAgfQotCi0gICAgICAvLyBTdG9yZSB0
aW1lb3V0IHRvIHJlcXVlc3QKLSAgICAgIC8vIEN1cnJlbnRseSBvbmx5IHN1cHBvcnRlZCBieSBJ
RTggYmV0YQotICAgICAgaWYgKHRoaXMudGltZW91dCAhPSBudWxsICYmIHRoaXMudGltZW91dCA+
IDApIHsKLSAgICAgICAgdGhpcy5fX3htbGh0dHAudGltZW91dCA9IHRoaXMudGltZW91dDsKLSAg
ICAgIH0KLQogICAgICAgLy8gTmF0aXZlbHkgb3BlbiByZXF1ZXN0Ci0gICAgICB0aGlzLl9feG1s
aHR0cC5vcGVuKG1ldGhvZCwgdXJsLCBhc3luYywgdXNlcm5hbWUsIHBhc3N3b3JkKTsKLQorICAg
ICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiA0KSB7CisgICAgICAgIHRoaXMuX194bWxodHRwLm9w
ZW4obWV0aG9kLCB1cmwsIGFzeW5jLCB1c2VybmFtZSwgcGFzc3dvcmQpOworICAgICAgfSBlbHNl
IGlmIChhcmd1bWVudHMubGVuZ3RoID4gMykgeworICAgICAgICB0aGlzLl9feG1saHR0cC5vcGVu
KG1ldGhvZCwgdXJsLCBhc3luYywgdXNlcm5hbWUpOworICAgICAgfSBlbHNlIHsKKyAgICAgICAg
dGhpcy5fX3htbGh0dHAub3BlbihtZXRob2QsIHVybCwgYXN5bmMpOworICAgICAgfQorICAgICAg
CiAgICAgICAvLyBCVUdGSVg6IEdlY2tvIC0gbWlzc2luZyByZWFkeXN0YXRlY2hhbmdlIGNhbGxz
IGluIHN5bmNocm9ub3VzIHJlcXVlc3RzCiAgICAgICBpZiAocXguY29yZS5WYXJpYW50LmlzU2V0
KCJxeC5jbGllbnQiLCAiZ2Vja28iKSkKICAgICAgIHsKQEAgLTI4OCwxMSArMjY5LDYgQEAKICAg
ICAgICAgdGhpcy5fX3htbGh0dHAuc2V0UmVxdWVzdEhlYWRlcihsYWJlbCwgaGVhZGVyc1tsYWJl
bF0pOwogICAgICAgfQogCi0gICAgICAvLyBBdHRhY2ggdGltZW91dAotICAgICAgaWYgKHRoaXMu
dGltZW91dCAhPSBudWxsICYmIHRoaXMudGltZW91dCA+IDApIHsKLSAgICAgICAgdGhpcy5fX3Rp
bWVvdXRIYW5kbGUgPSB3aW5kb3cuc2V0VGltZW91dCh0aGlzLl9fdGltZW91dExpc3RlbmVyLCB0
aGlzLnRpbWVvdXQpOwotICAgICAgfQotCiAgICAgICAvLyBGaW5hbGx5IHNlbmQgdXNpbmcgbmF0
aXZlIG1ldGhvZAogICAgICAgdGhpcy5fX3htbGh0dHAuc2VuZChkYXRhKTsKIApAQCAtMzQxLDEx
ICszMTcsMjIgQEAKICAgICAgKi8KICAgICBhYm9ydCA6IGZ1bmN0aW9uKCkKICAgICB7Ci0gICAg
ICAvLyBFeGVjdXRlIGFib3J0IGhlbHBlcgotICAgICAgdGhpcy5fX2Fib3J0SGVscGVyKCk7Cisg
ICAgICAvLyBTeW5jaHJvbml6ZSB2YWx1ZXMgYWdhaW4KKyAgICAgIHRoaXMuX19zeW5jaHJvbml6
ZVZhbHVlcygpOwogCisgICAgICAvLyBCVUdGSVg6IEdlY2tvIC0gdW5uZWNjZXNhcnkgRE9ORSB3
aGVuIGFib3J0aW5nCisgICAgICBpZiAodGhpcy5yZWFkeVN0YXRlID4gcXguYm9tLlJlcXVlc3Qu
VU5TRU5UKSB7CisgICAgICAgIHRoaXMuX19hYm9ydGVkID0gdHJ1ZTsKKyAgICAgIH0KKworICAg
ICAgLy8gTmF0aXZlbHkgYWJvcnQgcmVxdWVzdAorICAgICAgdGhpcy5fX3htbGh0dHAuYWJvcnQo
KTsKKwogICAgICAgLy8gQ2FsbCBsaXN0ZW5lcgogICAgICAgdGhpcy5vbmFib3J0KCk7CisKKyAg
ICAgIC8vIENsZWFudXAgbGlzdGVuZXJzIGV0Yy4KKyAgICAgIHRoaXMuZGlzcG9zZSgpOwogICAg
IH0sCiAKIApAQCAtMzk0LDI5ICszODEsMTQgQEAKIAogICAgICAgLy8gQ2xlYW51cCBuYXRpdmUg
b2JqZWN0IHdoZW4gZG9uZQogICAgICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PSBxeC5ib20uUmVx
dWVzdC5ET05FKSB7Ci0gICAgICAgIHRoaXMuX19jbGVhblRyYW5zcG9ydCgpOworICAgICAgICB0
aGlzLmRpc3Bvc2UoKTsKICAgICAgIH0KICAgICB9LAogCiAKLSAgICAvKioKLSAgICAgKiBJbnRl
cm5hbCBjYWxsYmFjayBmb3IgbmF0aXZlIDxjb2RlPnRpbWVvdXQ8L2NvZGU+IGV2ZW50LgotICAg
ICAqCi0gICAgICogQHJldHVybiB7dm9pZH0KLSAgICAgKi8KLSAgICBfX29uTmF0aXZlVGltZW91
dCA6IGZ1bmN0aW9uKCkKLSAgICB7Ci0gICAgICAvLyBFeGVjdXRlIGFib3J0IGhlbHBlcgotICAg
ICAgdGhpcy5fX2Fib3J0SGVscGVyKCk7CiAKLSAgICAgIC8vIEZpcmUgdXNlciB2aXNpYmxlIGV2
ZW50Ci0gICAgICB0aGlzLm9udGltZW91dCgpOwotICAgIH0sCiAKIAotCi0KLQogICAgIC8qCiAg
ICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICBSRVNQT05TRSBIRUFERVJTCkBAIC01MTgsMjkg
KzQ5MCw2IEBACiAgICAgKi8KIAogICAgIC8qKgotICAgICAqIEludGVybmFsIGhlbHBlciBmb3Ig
YWxsIGFib3J0aW5nIGFjdGlvbnMuCi0gICAgICoKLSAgICAgKiBAcmV0dXJuIHt2b2lkfQotICAg
ICAqLwotICAgIF9fYWJvcnRIZWxwZXIgOiBmdW5jdGlvbigpCi0gICAgewotICAgICAgLy8gU3lu
Y2hyb25pemUgdmFsdWVzIGFnYWluCi0gICAgICB0aGlzLl9fc3luY2hyb25pemVWYWx1ZXMoKTsK
LQotICAgICAgLy8gQlVHRklYOiBHZWNrbyAtIHVubmVjY2VzYXJ5IERPTkUgd2hlbiBhYm9ydGlu
ZwotICAgICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA+IHF4LmJvbS5SZXF1ZXN0LlVOU0VOVCkgewot
ICAgICAgICB0aGlzLl9fYWJvcnRlZCA9IHRydWU7Ci0gICAgICB9Ci0KLSAgICAgIC8vIE5hdGl2
ZWx5IGFib3J0IHJlcXVlc3QKLSAgICAgIHRoaXMuX194bWxodHRwLmFib3J0KCk7Ci0KLSAgICAg
IC8vIENsZWFudXAgbGlzdGVuZXJzIGV0Yy4KLSAgICAgIHRoaXMuX19jbGVhblRyYW5zcG9ydCgp
OwotICAgIH0sCi0KLQotICAgIC8qKgogICAgICAqIEludGVybmFsIGhlbHBlciB0byByZXR1cm4g
YSBuZXcgbmF0aXZlIFhNTEh0dHBSZXF1ZXN0IG9iamVjdCBzdWl0YWJsZSBmb3IKICAgICAgKiB0
aGUgY2xpZW50LgogICAgICAqCkBAIC02MzEsOCArNTgwLDggQEAKICAgICAgICAgfQogICAgICAg
fQogCi0gICAgICAvLyBDaGVjayBpZiB0aGVyZSBpcyBubyBlcnJvciBpbiBkb2N1bWVudAotICAg
ICAgZWxzZSBpZiAoZG9jICYmIGRvYy5kb2N1bWVudEVsZW1lbnQgJiYgZG9jLmRvY3VtZW50RWxl
bWVudC50YWdOYW1lID09ICJwYXJzZXJlcnJvciIpIHsKKyAgICAgIC8vIENoZWNrIGlmIHRoZXJl
IGlzIGEgZG9jdW1lbnQgYW5kIG5vIGVycm9yIGluIGRvY3VtZW50CisgICAgICBlbHNlIGlmICgh
ZG9jLmRvY3VtZW50RWxlbWVudCB8fCBkb2MuZG9jdW1lbnRFbGVtZW50LnRhZ05hbWUgPT09ICJw
YXJzZXJlcnJvciIpIHsKICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICB9CiAKQEAgLTY4Myw0
NiArNjMyLDMzIEBACiAKIAogICAgIC8qKgotICAgICAqIENsZWFucyB1cCB0aGUgbmF0aXZlIHRy
YW5zcG9ydCBvYmplY3QgYW5kIHNvbWUgb3RoZXIgaW50ZXJuYWwgc3R1ZmYuCisgICAgICogRHVt
bXkgZnVuY3Rpb24gYXMgZmFsbGJhY2sgZm9yIGludGVybmFsIHJlYWR5IHN0YXRlIGxpc3RlbmVy
CiAgICAgICoKICAgICAgKiBAcmV0dXJuIHt2b2lkfQogICAgICAqLwotICAgIF9fY2xlYW5UcmFu
c3BvcnQgOiBmdW5jdGlvbigpCi0gICAgewotICAgICAgLy8gQ2xlYXIgdGltZW91dCBoYW5kbGUK
LSAgICAgIGlmICh0aGlzLl9fdGltZW91dEhhbmRsZSkgewotICAgICAgICB3aW5kb3cuY2xlYXJU
aW1lb3V0KHRoaXMuX190aW1lb3V0SGFuZGxlKTsKLSAgICAgIH0KKyAgICBfX2R1bW15RnVuY3Rp
b24gOiBmdW5jdGlvbigpIHsKKyAgICAgIC8vIGVtcHR5CisgICAgfQorICB9LAogCi0gICAgICAv
LyBCVUdGSVg6IElFIC0gbWVtb3J5IGxlYWsgKG9uLXBhZ2UgbGVhaykKLSAgICAgIGlmICh0aGlz
Ll9feG1saHR0cCkKLSAgICAgIHsKLSAgICAgICAgdGhpcy5fX3htbGh0dHAub25yZWFkeXN0YXRl
Y2hhbmdlID0gdGhpcy5fX2R1bW15RnVuY3Rpb247Ci0gICAgICB9CiAKLSAgICAgIC8vIFJlbW92
ZSB1c2VyIGxpc3RlbmVycwotICAgICAgZGVsZXRlIHRoaXMub25yZWFkeXN0YXRlY2hhbmdlOwot
ICAgICAgZGVsZXRlIHRoaXMub250aW1lb3V0OwotICAgICAgZGVsZXRlIHRoaXMub25sb2FkOwot
ICAgICAgZGVsZXRlIHRoaXMub25lcnJvcjsKLSAgICAgIGRlbGV0ZSB0aGlzLm9uYWJvcnQ7CiAK
LSAgICAgIC8vIERlbGV0ZSBwcml2YXRlIHByb3BlcnRpZXMKLSAgICAgIGRlbGV0ZSB0aGlzLl9f
dGltZW91dEhhbmRsZTsKLSAgICAgIGRlbGV0ZSB0aGlzLl9fc3RhdGVMaXN0ZW5lcjsKLSAgICAg
IGRlbGV0ZSB0aGlzLl9fdGltZW91dExpc3RlbmVyOwotICAgICAgZGVsZXRlIHRoaXMuX194bWxo
dHRwOwotICAgICAgZGVsZXRlIHRoaXMuX19oZWFkZXJzOwotICAgIH0sCiAKKyAgLyoKKyAgKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioKKyAgICAgREVTVFJVQ1RPUgorICAqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KgorICAqLwogCi0gICAgLyoqCi0gICAgICogRHVtbXkgZnVuY3Rpb24gYXMgZmFsbGJhY2sgZm9y
IGludGVybmFsIHJlYWR5IHN0YXRlIGxpc3RlbmVyCi0gICAgICoKLSAgICAgKiBAcmV0dXJuIHt2
b2lkfQotICAgICAqLwotICAgIF9fZHVtbXlGdW5jdGlvbiA6IGZ1bmN0aW9uKCkgewotICAgICAg
Ly8gZW1wdHkKKyAgZGVzdHJ1Y3QgOiBmdW5jdGlvbigpCisgIHsKKyAgICAvLyBNZW1vcnkgbGVh
ayBwcm90ZWN0aW9uCisgICAgaWYgKHRoaXMuX194bWxodHRwKSB7CisgICAgICB0aGlzLl9feG1s
aHR0cC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSB0aGlzLl9fZHVtbXlGdW5jdGlvbjsKICAgICB9Cisg
ICAgCisgICAgLy8gQ2xlYXIgZmllbGRzCisgICAgdGhpcy5fZGlzcG9zZUZpZWxkcygib25yZWFk
eXN0YXRlY2hhbmdlIiwgIm9ubG9hZCIsICJvbmVycm9yIiwgIm9uYWJvcnQiKTsKKyAgICB0aGlz
Ll9kaXNwb3NlRmllbGRzKCJfX3N0YXRlTGlzdGVuZXIiLCAiX194bWxodHRwIiwgIl9faGVhZGVy
cyIpOwogICB9CiB9KTsK
</data>

          </attachment>
          <attachment isobsolete="0" ispatch="1" isprivate="0" isurl="0">
            <attachid>675</attachid>
            <date>2009-12-11 10:18:00 +0100</date>
            <delta_ts>2009-12-11 10:18:25 +0100</delta_ts>
            <desc>The changes to qx.bom.Request and qx.lang.Function</desc>
            <filename>changes.patch</filename>
            <type>text/plain</type>
            <size>2196</size>
            <attacher>info</attacher>
            
              <data encoding="base64">SW5kZXg6IGZyYW1ld29yay9zb3VyY2UvY2xhc3MvcXgvbGFuZy9GdW5jdGlvbi5qcwo9PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09Ci0tLSBmcmFtZXdvcmsvc291cmNlL2NsYXNzL3F4L2xhbmcvRnVuY3Rpb24uanMJKHJldmlz
aW9uIDIxMDc0KQorKysgZnJhbWV3b3JrL3NvdXJjZS9jbGFzcy9xeC9sYW5nL0Z1bmN0aW9uLmpz
CSh3b3JraW5nIGNvcHkpCkBAIC0yNDUsNyArMjQ1LDcgQEAKICAgICAgICAgICB7CiAgICAgICAg
ICAgICBxeC5jb3JlLkFzc2VydC5hc3NlcnRGYWxzZSgKICAgICAgICAgICAgICAgb3B0aW9ucy5z
ZWxmLmlzRGlzcG9zZWQoKSwKLSAgICAgICAgICAgICAgIlRyeWluZyB0byBjYWxsIGEgYm91bmQg
ZnVuY3Rpb24gd2l0aCBhIGRpc3Bvc2VkIG9iamVjdCBhcyBjb250ZXh0LiIKKyAgICAgICAgICAg
ICAgIlRyeWluZyB0byBjYWxsIGEgYm91bmQgZnVuY3Rpb24gd2l0aCBhIGRpc3Bvc2VkIG9iamVj
dCBhcyBjb250ZXh0OiAiICsgb3B0aW9ucy5zZWxmLnRvU3RyaW5nKCkgKyAiIDo6ICIgKyBxeC5s
YW5nLkZ1bmN0aW9uLmdldE5hbWUoZnVuYykKICAgICAgICAgICAgICk7CiAgICAgICAgICAgfQog
ICAgICAgICB9CkluZGV4OiBmcmFtZXdvcmsvc291cmNlL2NsYXNzL3F4L2JvbS9SZXF1ZXN0Lmpz
Cj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT0KLS0tIGZyYW1ld29yay9zb3VyY2UvY2xhc3MvcXgvYm9tL1JlcXVlc3QuanMJ
KHJldmlzaW9uIDIxMDc0KQorKysgZnJhbWV3b3JrL3NvdXJjZS9jbGFzcy9xeC9ib20vUmVxdWVz
dC5qcwkod29ya2luZyBjb3B5KQpAQCAtMzQ2LDYgKzM0NiwxMSBAQAogICAgICAqLwogICAgIGFi
b3J0IDogZnVuY3Rpb24oKQogICAgIHsKKyAgICAgIC8vIENsZWFyIHRpbWVvdXQgZm9yIGFsbCBh
Ym9ydGVkIHJlcXVlc3RzCisgICAgICBpZiAodGhpcy5fX3RpbWVvdXRIYW5kbGUpIHsKKyAgICAg
ICAgd2luZG93LmNsZWFyVGltZW91dCh0aGlzLl9fdGltZW91dEhhbmRsZSk7CisgICAgICB9ICAg
ICAKKyAgCiAgICAgICAvLyBFeGVjdXRlIGFib3J0IGhlbHBlcgogICAgICAgdGhpcy5fX2Fib3J0
SGVscGVyKCk7CiAKQEAgLTM5Nyw2ICs0MDIsMTEgQEAKICAgICAgICAgcmV0dXJuOwogICAgICAg
fQogCisgICAgICAvLyBDbGVhciB0aW1lb3V0IGJlZm9yZSBmaXJpbmcgZXZlbnQKKyAgICAgIGlm
ICh0aGlzLnJlYWR5U3RhdGUgPT0gcXguYm9tLlJlcXVlc3QuRE9ORSAmJiB0aGlzLl9fdGltZW91
dEhhbmRsZSkgeworICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuX190aW1lb3V0SGFu
ZGxlKTsKKyAgICAgIH0KKwogICAgICAgLy8gRmlyZSByZWFsIHN0YXRlIGNoYW5nZQogICAgICAg
dGhpcy5fX2ZpcmVSZWFkeVN0YXRlQ2hhbmdlKCk7CiAKQEAgLTY5OCwxOCArNzA4LDIzIEBACiAg
CiAgIGRlc3RydWN0IDogZnVuY3Rpb24oKQogICB7CisgICAgLy8gU3RvcCB0aW1lb3V0IGZpcnN0
CisgICAgaWYgKHRoaXMuX190aW1lb3V0SGFuZGxlKSAKKyAgICB7CisgICAgICB3aW5kb3cuY2xl
YXJUaW1lb3V0KHRoaXMuX190aW1lb3V0SGFuZGxlKTsKKyAgICAgIHRoaXMuX190aW1lb3V0SGFu
ZGxlID0gbnVsbDsKKyAgICB9ICAgCisKICAgICAvLyBNZW1vcnkgbGVhayBwcm90ZWN0aW9uCi0g
ICAgaWYgKHRoaXMuX194bWxodHRwKSB7CisgICAgaWYgKHRoaXMuX194bWxodHRwKSAKKyAgICB7
CiAgICAgICB0aGlzLl9feG1saHR0cC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBxeC5sYW5nLkZ1bmN0
aW9uLmVtcHR5OworICAgICAgdGhpcy5fX3htbGh0dHAgPSBudWxsOwogICAgIH0KLSAgICAKKwog
ICAgIC8vIENsZWFyIGZpZWxkcwotICAgIHRoaXMub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbDsK
LSAgICB0aGlzLm9ubG9hZCA9IG51bGw7Ci0gICAgdGhpcy5vbmVycm9yID0gbnVsbDsKLSAgICB0
aGlzLm9uYWJvcnQgPSBudWxsOworICAgIHRoaXMub25yZWFkeXN0YXRlY2hhbmdlID0gdGhpcy5v
bmxvYWQgPSB0aGlzLm9uZXJyb3IgPSB0aGlzLm9uYWJvcnQgPSBudWxsOwogICAgIHRoaXMuX19z
dGF0ZUxpc3RlbmVyID0gbnVsbDsKLSAgICB0aGlzLl9feG1saHR0cCA9IG51bGw7CiAgICAgdGhp
cy5fX2hlYWRlcnMgPSBudWxsOwogICB9CiB9KTsK
</data>

          </attachment>
      

    </bug>