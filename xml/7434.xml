<bug>
          <bug_id>7434</bug_id>
          
          <creation_ts>2013-06-03 08:21:00 +0200</creation_ts>
          <short_desc>Decorator &#39;shadow-popup&#39; is invalid in Dialog.js</short_desc>
          <delta_ts>2013-06-13 22:30:20 +0200</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>1</classification_id>
          <classification>Unclassified</classification>
          <product>contrib</product>
          <component>Dialog</component>
          <version>trunk</version>
          <rep_platform>All</rep_platform>
          <op_sys>All</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          
          
          
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>unspecified</target_milestone>
          
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Henner Kollmann">Henner.Kollmann</reporter>
          <assigned_to name="Unassigned">none</assigned_to>
          <cc>martin.wittemann</cc>
          <qa_contact name="Christian Boulanger">info</qa_contact>
          <cf_browser>---</cf_browser>
          

      

      

      

          <long_desc isprivate="0">
            <commentid>32855</commentid>
            <who name="Henner Kollmann">Henner.Kollmann</who>
            <bug_when>2013-06-03 08:21:44 +0200</bug_when>
            <thetext>Using qooxdoo trunk and Dialog trunk the following error message occurs:

Error: Error in property decorator of class dialog.Alert in method setDecorator with incoming value &#39;shadow-popup&#39;: Is invalid!

Seems that in the actual Version this decorator does not exists.

Which one could i use instead?

Best regards
Henner Kollmann</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>32856</commentid>
            <who name="Christian Boulanger">info</who>
            <bug_when>2013-06-03 09:06:18 +0200</bug_when>
            <thetext>Unfortunately, I don&#39;t know what has changed in the decorator department. Martin, can you help out`?</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>32878</commentid>
            <who name="Henner Kollmann">Henner.Kollmann</who>
            <bug_when>2013-06-06 22:27:44 +0200</bug_when>
            <thetext>Any idea how to change the dialog class to support the new decorator?

best regards
Henner Kollmann</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>32884</commentid>
            <who name="Henner Kollmann">Henner.Kollmann</who>
            <bug_when>2013-06-07 21:47:58 +0200</bug_when>
            <thetext>Blocking is not working either!

best regards
Henner Kollmann</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>32885</commentid>
            <who name="Christian Boulanger">info</who>
            <bug_when>2013-06-07 21:58:11 +0200</bug_when>
            <thetext>Henner, sorry, I cannot do anything about this at the moment, I have no time. Too bad that the new release broke the contrib. Please ask on the mailing list if some other users of the contrib can update it and send me a pull request.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>32887</commentid>
              <attachid>1258</attachid>
            <who name="Henner Kollmann">Henner.Kollmann</who>
            <bug_when>2013-06-08 14:36:06 +0200</bug_when>
            <thetext>Created attachment 1258
fixed blocker

I fixed it by myself.
I do not know how to send a push request - therefore i send the changed file as an Attachement.

best regards
Henner Kollmann</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>32940</commentid>
            <who name="Christian Boulanger">info</who>
            <bug_when>2013-06-13 22:30:20 +0200</bug_when>
            <thetext>(In reply to comment #5)
&gt; Created attachment 1258 [details]
&gt; fixed blocker
&gt; 
&gt; I fixed it by myself.
&gt; I do not know how to send a push request - therefore i send the changed file as
&gt; an Attachement.
&gt; 
&gt; best regards
&gt; Henner Kollmann


Committed as of 9bc95ff439a7bafdd98f8a92ecde2619d83facbc. I hope you tested it thoroughly, because I haven&#39;t.</thetext>
          </long_desc>
      
          <attachment isobsolete="0" ispatch="0" isprivate="0" isurl="0">
            <attachid>1258</attachid>
            <date>2013-06-08 14:36:00 +0200</date>
            <delta_ts>2013-06-08 14:36:06 +0200</delta_ts>
            <desc>fixed blocker</desc>
            <filename>Dialog.js</filename>
            <type>text/plain</type>
            <size>16860</size>
            <attacher>Henner.Kollmann</attacher>
            
              <data encoding="base64">LyogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqCgogICBxb294ZG9vIGRpYWxvZyBsaWJyYXJ5CiAgCiAgIGh0dHA6
Ly9xb294ZG9vLm9yZy9jb250cmliL3Byb2plY3QjZGlhbG9nCiAgCiAgIENvcHlyaWdodDoKICAg
ICAyMDA3LTIwMTAgQ2hyaXN0aWFuIEJvdWxhbmdlcgogIAogICBMaWNlbnNlOgogICAgIExHUEw6
IGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy9sZ3BsLmh0bWwKICAgICBFUEw6IGh0dHA6Ly93
d3cuZWNsaXBzZS5vcmcvb3JnL2RvY3VtZW50cy9lcGwtdjEwLnBocAogICAgIFNlZSB0aGUgTElD
RU5TRSBmaWxlIGluIHRoZSBwcm9qZWN0J3MgdG9wLWxldmVsIGRpcmVjdG9yeSBmb3IgZGV0YWls
cy4KICAKICAgQXV0aG9yczoKICAgKiAgQ2hyaXN0aWFuIEJvdWxhbmdlciAoY2JvdWxhbmdlcikK
ICAKKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqICovCgovKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKI2Fzc2V0KHF4L2ljb24v
JHtxeC5pY29udGhlbWV9LzIyL2FjdGlvbnMvZGlhbG9nLWNhbmNlbC5wbmcpCiNhc3NldChxeC9p
Y29uLyR7cXguaWNvbnRoZW1lfS8yMi9hY3Rpb25zL2RpYWxvZy1vay5wbmcpCiNhc3NldChxeC9p
Y29uLyR7cXguaWNvbnRoZW1lfS80OC9zdGF0dXMvZGlhbG9nLWluZm9ybWF0aW9uLnBuZykKI2Fz
c2V0KHF4L2ljb24vJHtxeC5pY29udGhlbWV9LzQ4L3N0YXR1cy9kaWFsb2ctZXJyb3IucG5nKQoj
YXNzZXQocXgvaWNvbi8ke3F4Lmljb250aGVtZX0vNDgvc3RhdHVzL2RpYWxvZy13YXJuaW5nLnBu
ZykKCiNpZ25vcmUoZGlhbG9nLmFsZXJ0KQojaWdub3JlKGRpYWxvZy5lcnJvcikKI2lnbm9yZShk
aWFsb2cud2FybmluZykKI2lnbm9yZShkaWFsb2cuY29uZmlybSkKI2lnbm9yZShkaWFsb2cucHJv
bXB0KQojaWdub3JlKGRpYWxvZy5zZWxlY3QpCioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqLwoKLy8gZm9yIHFv
b3hkb28gPiAyLnggCi8qKgogKiBAbGludCBpZ25vcmVVbmRlZmluZWQoZGlhbG9nLmFsZXJ0KQog
KiBAbGludCBpZ25vcmVVbmRlZmluZWQoZGlhbG9nLmVycm9yKQogKiBAbGludCBpZ25vcmVVbmRl
ZmluZWQoZGlhbG9nLndhcm5pbmcpCiAqIEBsaW50IGlnbm9yZVVuZGVmaW5lZChkaWFsb2cuY29u
ZmlybSkKICogQGxpbnQgaWdub3JlVW5kZWZpbmVkKGRpYWxvZy5wcm9tcHQpCiAqIEBsaW50IGln
bm9yZVVuZGVmaW5lZChkaWFsb2cuZm9ybSkKICogQGxpbnQgaWdub3JlVW5kZWZpbmVkKGRpYWxv
Zy5zZWxlY3QpCiAqLwoKLyoqCiAqIEJhc2UgY2xhc3MgZm9yIGRpYWxvZyB3aWRnZXRzCiAqIEB0
b2RvIHVzZSBjaGlsZENvbnRyb2wgc3lzdGVtCiAqLwpxeC5DbGFzcy5kZWZpbmUoImRpYWxvZy5E
aWFsb2ciLAp7CiAgZXh0ZW5kIDogcXgudWkuY29udGFpbmVyLkNvbXBvc2l0ZSwKICAKICAvKgog
ICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqCiAgICAgU1RBVElDUwogICoqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
CiAgKi8gICAgIAogIHN0YXRpY3MgOgogIHsgIAogIAogICAgLyoqCiAgICAgKiBSZXR1cm5zIGEg
ZGlhbG9nIGluc3RhbmNlIGJ5IHR5cGUKICAgICAqIEBwYXJhbSB0eXBlIHtTdHJpbmd9IFRoZSBk
aWFsb2cgdHlwZSB0byBnZXQKICAgICAqIEByZXR1cm4gZGlhbG9nLkRpYWxvZwogICAgICovCiAg
ICBnZXRJbnN0YW5jZUJ5VHlwZSA6IGZ1bmN0aW9uKHR5cGUpCiAgICB7ICAgICAgCiAgICAgICB0
cnkgCiAgICAgICB7CiAgICAgICAgIHJldHVybiBuZXcgZGlhbG9nW3F4LmxhbmcuU3RyaW5nLmZp
cnN0VXAodHlwZSldOwogICAgICAgfQogICAgICAgY2F0Y2goZSkKICAgICAgIHsKICAgICAgICAg
dGhpcy5lcnJvcih0eXBlICsgIiBpcyBub3QgYSB2YWxpZCBkaWFsb2cgdHlwZSIpOwogICAgICAg
fQogICAgfSwKICAgIAogICAgCiAgICAKICAgIC8qKgogICAgICogU2hvcnRjdXQgZm9yIGFsZXJ0
IGRpYWxvZwogICAgICogQHBhcmFtIG1lc3NhZ2Uge1N0cmluZ30gVGhlIG1lc3NhZ2UgdG8gZGlz
cGxheQogICAgICogQHBhcmFtIGNhbGxiYWNrIHtGdW5jdGlvbn0gVGhlIGNhbGxiYWNrIGZ1bmN0
aW9uCiAgICAgKiBAcGFyYW0gY29udGV4dCB7T2JqZWN0fSBUaGUgY29udGV4dCB0byB1c2Ugd2l0
aCB0aGUgY2FsbGJhY2sgZnVuY3Rpb24KICAgICAqLwogICAgYWxlcnQgOiBmdW5jdGlvbiggbWVz
c2FnZSwgY2FsbGJhY2ssIGNvbnRleHQgKQogICAgewogICAgICAobmV3IGRpYWxvZy5BbGVydCh7
CiAgICAgICAgIm1lc3NhZ2UiICAgOiBtZXNzYWdlLAogICAgICAgICJjYWxsYmFjayIgIDogY2Fs
bGJhY2sgfHwgbnVsbCwKICAgICAgICAiY29udGV4dCIgICA6IGNvbnRleHQgfHwgbnVsbCwKICAg
ICAgICAiaW1hZ2UiICAgICA6ICJpY29uLzQ4L3N0YXR1cy9kaWFsb2ctaW5mb3JtYXRpb24ucG5n
IgogICAgICB9KSkuc2hvdygpOyAgICAgIAogICAgfSwKCiAgICAvKioKICAgICAqIFNob3J0Y3V0
IGZvciBlcnJvciBkaWFsb2cKICAgICAqIEBwYXJhbSBtZXNzYWdlIHtTdHJpbmd9IFRoZSBtZXNz
YWdlIHRvIGRpc3BsYXkKICAgICAqIEBwYXJhbSBjYWxsYmFjayB7RnVuY3Rpb259IFRoZSBjYWxs
YmFjayBmdW5jdGlvbgogICAgICogQHBhcmFtIGNvbnRleHQge09iamVjdH0gVGhlIGNvbnRleHQg
dG8gdXNlIHdpdGggdGhlIGNhbGxiYWNrIGZ1bmN0aW9uCiAgICAgKi8KICAgIGVycm9yIDogZnVu
Y3Rpb24oIG1lc3NhZ2UsIGNhbGxiYWNrLCBjb250ZXh0ICkKICAgIHsKICAgICAgKG5ldyBkaWFs
b2cuQWxlcnQoewogICAgICAgICJtZXNzYWdlIiAgIDogbWVzc2FnZSwKICAgICAgICAiY2FsbGJh
Y2siICA6IGNhbGxiYWNrIHx8IG51bGwsCiAgICAgICAgImNvbnRleHQiICAgOiBjb250ZXh0IHx8
IG51bGwsCiAgICAgICAgImltYWdlIiAgICAgOiAiaWNvbi80OC9zdGF0dXMvZGlhbG9nLWVycm9y
LnBuZyIKICAgICAgfSkpLnNob3coKTsgICAgICAKICAgIH0sCiAgICAKICAgIC8qKgogICAgICog
U2hvcnRjdXQgZm9yIHdhcm5pbmcgZGlhbG9nCiAgICAgKiBAcGFyYW0gbWVzc2FnZSB7U3RyaW5n
fSBUaGUgbWVzc2FnZSB0byBkaXNwbGF5CiAgICAgKiBAcGFyYW0gY2FsbGJhY2sge0Z1bmN0aW9u
fSBUaGUgY2FsbGJhY2sgZnVuY3Rpb24KICAgICAqIEBwYXJhbSBjb250ZXh0IHtPYmplY3R9IFRo
ZSBjb250ZXh0IHRvIHVzZSB3aXRoIHRoZSBjYWxsYmFjayBmdW5jdGlvbgogICAgICovCiAgICB3
YXJuaW5nIDogZnVuY3Rpb24oIG1lc3NhZ2UsIGNhbGxiYWNrLCBjb250ZXh0ICkKICAgIHsKICAg
ICAgKG5ldyBkaWFsb2cuQWxlcnQoewogICAgICAgICJtZXNzYWdlIiAgIDogbWVzc2FnZSwKICAg
ICAgICAiY2FsbGJhY2siICA6IGNhbGxiYWNrIHx8IG51bGwsCiAgICAgICAgImNvbnRleHQiICAg
OiBjb250ZXh0IHx8IG51bGwsCiAgICAgICAgImltYWdlIiAgICAgOiAiaWNvbi80OC9zdGF0dXMv
ZGlhbG9nLXdhcm5pbmcucG5nIgogICAgICB9KSkuc2hvdygpOyAgICAgIAogICAgfSwKICAgIAog
ICAgLyoqCiAgICAgKiBTaG9ydGN1dCBmb3IgY29uZmlybSBkaWFsb2cKICAgICAqIEBwYXJhbSBt
ZXNzYWdlIHtTdHJpbmd9IFRoZSBtZXNzYWdlIHRvIGRpc3BsYXkKICAgICAqIEBwYXJhbSBjYWxs
YmFjayB7RnVuY3Rpb259IFRoZSBjYWxsYmFjayBmdW5jdGlvbgogICAgICogQHBhcmFtIGNvbnRl
eHQge09iamVjdH0gVGhlIGNvbnRleHQgdG8gdXNlIHdpdGggdGhlIGNhbGxiYWNrIGZ1bmN0aW9u
CiAgICAgKi8KICAgIGNvbmZpcm0gOiBmdW5jdGlvbiggbWVzc2FnZSwgY2FsbGJhY2ssIGNvbnRl
eHQgKQogICAgewogICAgICAobmV3IGRpYWxvZy5Db25maXJtKHsKICAgICAgICAibWVzc2FnZSIg
ICAgIDogbWVzc2FnZSwKICAgICAgICAiY2FsbGJhY2siICAgIDogY2FsbGJhY2sgfHwgbnVsbCwK
ICAgICAgICAiY29udGV4dCIgICAgIDogY29udGV4dCB8fCBudWxsCiAgICAgIH0pKS5zaG93KCk7
ICAgICAgCiAgICB9LAogICAgCiAgICAvKioKICAgICAqIFNob3J0Y3V0IGZvciBwcm9tcHQgZGlh
bG9nLgogICAgICogVGhlIHZhbHVlIGFyZ3VtZW50IHdhcyBmb3Jnb3R0ZW4gaW4gdGhlIGluaXRp
YWwgaW1wbGVtZW50YXRpb24gYW5kCiAgICAgKiBjb21lcyBsYXN0IGZvciBiYWNrd2FyZHMgY29t
cGF0aWJpbGl0eS4gVGhpcyBtaWdodCBjaGFuZ2UgaW4gYSBmdXR1cmUgCiAgICAgKiByZWxlYXNl
LgogICAgICogQHBhcmFtIG1lc3NhZ2Uge1N0cmluZ30gVGhlIG1lc3NhZ2UgdG8gZGlzcGxheQog
ICAgICogQHBhcmFtIGNhbGxiYWNrIHtGdW5jdGlvbn0gVGhlIGNhbGxiYWNrIGZ1bmN0aW9uCiAg
ICAgKiBAcGFyYW0gY29udGV4dCB7T2JqZWN0fSBUaGUgY29udGV4dCB0byB1c2Ugd2l0aCB0aGUg
Y2FsbGJhY2sgZnVuY3Rpb24KICAgICAqIEBwYXJhbSB2YWx1ZSB7U3RyaW5nfSBUaGUgZGVmYXVs
dCB2YWx1ZSBvZiB0aGUgcHJvbXB0IHRleHRmaWVsZAogICAgICovICAgIAogICAgcHJvbXB0IDog
ZnVuY3Rpb24oIG1lc3NhZ2UsIGNhbGxiYWNrLCBjb250ZXh0LCB2YWx1ZSApCiAgICB7CiAgICAg
IChuZXcgZGlhbG9nLlByb21wdCh7CiAgICAgICAgIm1lc3NhZ2UiICAgICA6IG1lc3NhZ2UsCiAg
ICAgICAgImNhbGxiYWNrIiAgICA6IGNhbGxiYWNrIHx8IG51bGwsCiAgICAgICAgImNvbnRleHQi
ICAgICA6IGNvbnRleHQgfHwgbnVsbCwKICAgICAgICAidmFsdWUiICAgICAgIDogdmFsdWUgfHwg
bnVsbAogICAgICB9KSkuc2hvdygpOyAgICAgIAogICAgfSwKICAgIAogICAgLyoqCiAgICAgKiBT
aG9ydGN1dCBmb3Igc2VsZWN0IGRpYWxvZwogICAgICogQHBhcmFtIG1lc3NhZ2Uge1N0cmluZ30g
VGhlIG1lc3NhZ2UgdG8gZGlzcGxheQogICAgICogQHBhcmFtIG9wdGlvbnMge0FycmF5fSBPcHRp
b25zIHRvIHNlbGVjdCBmcm9tCiAgICAgKiBAcGFyYW0gY2FsbGJhY2sge0Z1bmN0aW9ufSBUaGUg
Y2FsbGJhY2sgZnVuY3Rpb24KICAgICAqIEBwYXJhbSBjb250ZXh0IHtPYmplY3R9IFRoZSBjb250
ZXh0IHRvIHVzZSB3aXRoIHRoZSBjYWxsYmFjayBmdW5jdGlvbgogICAgICogQHBhcmFtIGFsbG93
Q2FuY2VsIHtCb29sZWFufSBEZWZhdWx0OiB0cnVlCiAgICAgKi8gICAgCiAgICBzZWxlY3QgOiBm
dW5jdGlvbiggbWVzc2FnZSwgb3B0aW9ucywgY2FsbGJhY2ssIGNvbnRleHQsIGFsbG93Q2FuY2Vs
ICkKICAgIHsKICAgICAgKG5ldyBkaWFsb2cuU2VsZWN0KHsKICAgICAgICAibWVzc2FnZSIgICAg
IDogbWVzc2FnZSwKICAgICAgICAiYWxsb3dDYW5jZWwiIDogdHlwZW9mIGFsbG93Q2FuY2VsID09
ICJib29sZWFuIiA/IGFsbG93Q2FuY2VsIDogdHJ1ZSwKICAgICAgICAib3B0aW9ucyIgICAgIDog
b3B0aW9ucywKICAgICAgICAiY2FsbGJhY2siICAgIDogY2FsbGJhY2sgfHwgbnVsbCwKICAgICAg
ICAiY29udGV4dCIgICAgIDogY29udGV4dCB8fCBudWxsCiAgICAgIH0pKS5zaG93KCk7ICAgICAg
CiAgICB9LAogICAgCiAgICAvKioKICAgICAqIFNob3J0Y3V0IGZvciBmb3JtIGRpYWxvZwogICAg
ICogQHBhcmFtIG1lc3NhZ2Uge1N0cmluZ30gVGhlIG1lc3NhZ2UgdG8gZGlzcGxheQogICAgICog
QHBhcmFtIGZvcm1EYXRhIHtNYXB9IE1hcCBvZiBmb3JtIGRhdGEuIFNlZSB7QGxpbmsgZGlhbG9n
LkZvcm0uZm9ybURhdGF9CiAgICAgKiBAcGFyYW0gY2FsbGJhY2sge0Z1bmN0aW9ufSBUaGUgY2Fs
bGJhY2sgZnVuY3Rpb24KICAgICAqIEBwYXJhbSBjb250ZXh0IHtPYmplY3R9IFRoZSBjb250ZXh0
IHRvIHVzZSB3aXRoIHRoZSBjYWxsYmFjayBmdW5jdGlvbgogICAgICovCiAgICBmb3JtIDogZnVu
Y3Rpb24oIG1lc3NhZ2UsIGZvcm1EYXRhLCBjYWxsYmFjaywgY29udGV4dCApCiAgICB7CiAgICAg
IChuZXcgZGlhbG9nLkZvcm0oewogICAgICAgICAibWVzc2FnZSIgICAgOiBtZXNzYWdlLAogICAg
ICAgICJmb3JtRGF0YSIgICAgOiBmb3JtRGF0YSwKICAgICAgICAiYWxsb3dDYW5jZWwiIDogdHJ1
ZSwKICAgICAgICAiY2FsbGJhY2siICAgIDogY2FsbGJhY2ssCiAgICAgICAgImNvbnRleHQiICAg
ICA6IGNvbnRleHQgfHwgbnVsbAogICAgICB9KSkuc2hvdygpOyAgICAgICAgICAgIAogICAgfQog
IH0sCiAgCiAgLyoKICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogICAgIENPTlNUUlVDVE9SCiAgKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioKICAqLyAgIAogIAogIC8qKgogICAqIEBwYXJhbSBwcm9wZXJ0aWVz
IHtNYXB8U3RyaW5nfHVuZGVmaW5lZH0gSWYgeW91IHN1cHBseSBhIG1hcCwgYWxsIHRoZSAKICAg
KiBjb3JyZXNwb25kaW5nIHByb3BlcnRpZXMgd2lsbCBiZSBzZXQuIElmIGEgc3RyaW5nIGlzIGdp
dmVuLCB1c2UgaXQgCiAgICogYXMgdG8gc2V0IHRoZSAnbWVzc2FnZScgcHJvcGVydHkuCiAgICov
CiAgY29uc3RydWN0OiBmdW5jdGlvbiggcHJvcGVydGllcyApCiAgewogICAgdGhpcy5iYXNlKGFy
Z3VtZW50cyk7CiAgICB0aGlzLnNldCh7CiAgICAgICAndmlzaWJpbGl0eSc6ICJoaWRkZW4iCiAg
ICB9KTsKICAgIHRoaXMuc2V0TGF5b3V0KCBuZXcgcXgudWkubGF5b3V0Lkdyb3coKSApOwogICAg
LyoKICAgICAqIGF1dG9tYXRpY2FsbHkgYWRkIHRvIGFwcGxpY2F0aW9uJ3Mgcm9vdAogICAgICov
CiAgICB2YXIgcm9vdCA9IHF4LmNvcmUuSW5pdC5nZXRBcHBsaWNhdGlvbigpLmdldFJvb3QoKTsK
ICAgIHJvb3QuYWRkKHRoaXMpOwogICAgCiAgICAvKgogICAgICogbWFrZSBpdCBhIGZvY3VzIHJv
b3QKICAgICAqLwogICAgcXgudWkuY29yZS5Gb2N1c0hhbmRsZXIuZ2V0SW5zdGFuY2UoKS5hZGRS
b290KHRoaXMpOwogICAgCiAgICAvKiAKICAgICAqIHJlc2l6ZSBldmVudCAKICAgICAqLwogICAg
cm9vdC5hZGRMaXN0ZW5lcigicmVzaXplIiwgZnVuY3Rpb24oZSkKICAgIHsKICAgICAgdmFyIGJv
dW5kcyA9IHRoaXMuZ2V0Qm91bmRzKCk7CiAgICAgIHRoaXMuc2V0KHsKICAgICAgICBtYXJnaW5U
b3A6IE1hdGgucm91bmQoICggcXguYm9tLkRvY3VtZW50LmdldEhlaWdodCgpIC1ib3VuZHMuaGVp
Z2h0ICkgLyAyKSwKICAgICAgICBtYXJnaW5MZWZ0IDogTWF0aC5yb3VuZCggKCBxeC5ib20uRG9j
dW1lbnQuZ2V0V2lkdGgoKSAtYm91bmRzLndpZHRoKSAvIDIpCiAgICAgIH0pOwogICAgfSwgdGhp
cyk7CiAgICAKICAgIC8qIAogICAgICogYXBwZWFyIGV2ZW50IAogICAgICovCiAgICB0aGlzLmFk
ZExpc3RlbmVyKCJhcHBlYXIiLCBmdW5jdGlvbihlKQogICAgewogICAgICB2YXIgYm91bmRzID0g
dGhpcy5nZXRCb3VuZHMoKTsKICAgICAgdGhpcy5zZXQoewogICAgICAgIG1hcmdpblRvcDogTWF0
aC5yb3VuZCggKCBxeC5ib20uRG9jdW1lbnQuZ2V0SGVpZ2h0KCkgLWJvdW5kcy5oZWlnaHQgKSAv
IDIpLAogICAgICAgIG1hcmdpbkxlZnQgOiBNYXRoLnJvdW5kKCAoIHF4LmJvbS5Eb2N1bWVudC5n
ZXRXaWR0aCgpIC1ib3VuZHMud2lkdGgpIC8gMikKICAgICAgfSk7CiAgICB9LCB0aGlzKTsgICAK
ICAgIAogICAgLyoKICAgICAqIGNyZWF0ZSB3aWRnZXQgY29udGVudAogICAgICovCiAgICB0aGlz
Ll9jcmVhdGVXaWRnZXRDb250ZW50KCk7CiAgICAKICAgIC8qCiAgICAgKiBzZXQgcHJvcGVydGll
cyBpZiBnaXZlbgogICAgICovCiAgICBpZiAoIHR5cGVvZiBwcm9wZXJ0aWVzID09ICJvYmplY3Qi
ICkKICAgIHsKICAgICAgdGhpcy5zZXQocHJvcGVydGllcyk7CiAgICB9CiAgICAvKgogICAgICog
aWYgYXJndW1lbnQgaXMgYSBzdHJpbmcsIGFzc3VtZSBpdCBpcyBhIG1lc3NhZ2UKICAgICAqLwog
ICAgZWxzZSBpZiAoIHR5cGVvZiBwcm9wZXJ0aWVzID09ICJzdHJpbmciICkKICAgIHsKICAgICAg
dGhpcy5zZXRNZXNzYWdlKHByb3BlcnRpZXMpOwogICAgfQogIH0sICAKICAKICAvKgogICoqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqCiAgICAgUFJPUEVSVElFUwogICoqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqCiAg
Ki8gICAgIAogIHByb3BlcnRpZXMgOgogIHsKICAKICAgIC8qKgogICAgICogQ2FsbGJhY2sgZnVu
Y3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCB3aGVuIHRoZSB1c2VyIAogICAgICogaGFzIGludGVy
YWN0ZWQgd2l0aCB0aGUgd2lkZ2V0LiBTZWUgc2FtcGxlIGNhbGxiYWNrCiAgICAgKiBtZXRob2Qg
c3VwcGxpZWQgaW4gdGhlIHNvdXJjZSBjb2RlIG9mIGVhY2ggZGlhbG9nIAogICAgICogd2lkZ2V0
LgogICAgICovCiAgICBjYWxsYmFjayA6IAogICAgewogICAgICBjaGVjayA6ICJGdW5jdGlvbiIs
CiAgICAgIG51bGxhYmxlIDogdHJ1ZQogICAgfSwKICAgIAogICAgLyoqCiAgICAgKiBUaGUgY29u
dGV4dCBmb3IgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uCiAgICAgKi8KICAgIGNvbnRleHQgOiAKICAg
IHsKICAgICAgY2hlY2sgOiAiT2JqZWN0IiwKICAgICAgbnVsbGFibGUgOiB0cnVlCiAgICB9LCAg
ICAKICAgIAogICAgLyoqCiAgICAgKiBBIGJhbm5lciBpbWFnZS9sb2dvIHRoYXQgaXMgZGlzcGxh
eWVkIG9uIHRoZSB3aWRnZXQsCiAgICAgKiBpZiBhcHBsaWNhYmxlCiAgICAgKi8KICAgIGltYWdl
IDogCiAgICB7CiAgICAgIGNoZWNrIDogIlN0cmluZyIsCiAgICAgIG51bGxhYmxlIDogdHJ1ZSwK
ICAgICAgYXBwbHkgOiAiX2FwcGx5SW1hZ2UiCiAgICB9LAogICAgCiAgICAvKioKICAgICAqIFRo
ZSBtZXNzYWdlIHRoYXQgaXMgZGlzcGxheWVkCiAgICAgKi8KICAgIG1lc3NhZ2UgOgogICAgewog
ICAgICBjaGVjayA6ICJTdHJpbmciLAogICAgICBudWxsYWJsZSA6IHRydWUsCiAgICAgIGFwcGx5
IDogIl9hcHBseU1lc3NhZ2UiCiAgICB9LCAKICAgIAogICAgLyoqCiAgICAgKiBXaGV0aGVyIHRv
IGJsb2NrIHRoZSB1aSB3aGlsZSB0aGUgd2lkZ2V0IGlzIGRpc3BsYXllZAogICAgICovCiAgICB1
c2VCbG9ja2VyIDoKICAgIHsKICAgICAgY2hlY2sgOiAiQm9vbGVhbiIsCiAgICAgIGluaXQgOiB0
cnVlCiAgICB9LAogICAgCiAgICAvKioKICAgICAqIFRoZSBibG9ja2VyJ3MgY29sb3IKICAgICAq
LwogICAgYmxvY2tlckNvbG9yIDoKICAgIHsKICAgICAgY2hlY2sgOiAiU3RyaW5nIiwKICAgICAg
aW5pdCA6ICJibGFjayIKICAgIH0sCiAgICAKICAgIC8qKgogICAgICogVGhlIGJsb2NrZXIncyBv
cGFjaXR5CiAgICAgKi8KICAgIGJsb2NrZXJPcGFjaXR5IDoKICAgIHsKICAgICAgY2hlY2sgOiAi
TnVtYmVyIiwKICAgICAgaW5pdCA6IDAuNQogICAgfSwKICAgIAogICAgLyoqCiAgICAgKiBXaGV0
aGVyIHRvIGFsbG93IGNhbmNlbGxpbmcgdGhlIGRpYWxvZwogICAgICovCiAgICBhbGxvd0NhbmNl
bCA6CiAgICB7CiAgICAgIGNoZWNrIDogIkJvb2xlYW4iLAogICAgICBpbml0IDogdHJ1ZSwKICAg
ICAgZXZlbnQgOiAiY2hhbmdlQWxsb3dDYW5jZWwiCiAgICB9LAogICAgCiAgICAvLyBvdmVycmlk
ZGVuCiAgICBmb2N1c2FibGUgOgogICAgewogICAgICByZWZpbmUgOiB0cnVlLAogICAgICBpbml0
IDogdHJ1ZQogICAgfQogICAgCiAgICAKICB9LAogIAogIC8qCiAgKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioKICAgICBFVkVOVFMKICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogICovICAgIAogIGV2ZW50cyA6
IAogIHsgICAKICAgIAogICAgLyoqCiAgICAgKiBEaXNwYXRjaGVkIHdoZW4gdXNlciBjbGlja3Mg
b24gdGhlICJPSyIgQnV0dG9uCiAgICAgKiBAdHlwZSBTdHJpbmcKICAgICovCiAgICAib2siIDog
InF4LmV2ZW50LnR5cGUuRXZlbnQiLAogICAKICAgLyoqCiAgICAgKiBEaXNwYXRjaGVkIHdoZW4g
dXNlciBjbGlja3Mgb24gdGhlICJDYW5jZWwiIEJ1dHRvbgogICAgICogQHR5cGUgU3RyaW5nCiAg
ICAqLwogICAgImNhbmNlbCIgOiAicXguZXZlbnQudHlwZS5FdmVudCIKICAgCiAgfSwKICAKCiAg
CiAgLyoKICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKgogICAgIE1FTUJFUlMKICAqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKgogICovICAgICAKICBtZW1iZXJzIDoKICB7CiAgICAKICAgIC8qCiAgICAtLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0KICAgICAgICJQUklWQVRFIgogICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAq
LyAgCiAgICAKICAgIF9fY29udGFpbmVyIDogbnVsbCwKCQlfX3ByZXZpb3VzRm9jdXMgOiBudWxs
LAogICAgCiAgICAvKgogICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAiUFJPVEVDVEVEIgog
ICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAqLyAgICAgIAogICAgCiAgICBfaW1hZ2UgOiBudWxs
LAogICAgX21lc3NhZ2UgOiBudWxsLAogICAgX29rQnV0dG9uIDogbnVsbCwKICAgIF9jYW5jZWxC
dXR0b24gOiBudWxsLCAgICAgICAKICAgIAogICAgLyoKICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQog
ICAgICAgV0lER0VUIExBWU9VVAogICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAqLyAgCiAgICAK
ICAgIC8vIG92ZXJyaWRkZW4KICAgIC8vIEB0b2RvIGltcGxlbWVudCBjaGlsZCBjb250cm9sIGxv
Z2ljCi8vICAgIF9jcmVhdGVDaGlsZENvbnRyb2xJbXBsIDogZnVuY3Rpb24oaWQpCi8vICAgIHsK
Ly8gICAgICB2YXIgY29udHJvbDsKLy8KLy8gICAgICBzd2l0Y2goaWQpCi8vICAgICAgewovLyAg
ICAgICAgY2FzZSAiYnV0dG9uLW9rIjoKLy8gICAgICAgICAgY29udHJvbCA9IG5ldyBxeC51aS5i
YXNpYy5MYWJlbCggdGhpcy5nZXRMYWJlbCgpICk7Ci8vICAgICAgICAgIHRoaXMuX2FkZChjb250
cm9sKTsKLy8gICAgICAgICAgYnJlYWs7Ci8vCi8vICAgICAgfQovLwovLyAgICAgIHJldHVybiBj
b250cm9sIHx8IHRoaXMuYmFzZShhcmd1bWVudHMsIGlkKTsKLy8gICAgfSwgICAgCi8vICAgIAog
ICAgLyoqCiAgICAgKiBDcmVhdGUgdGhlIGNvbnRlbnQgb2YgdGhlIGRpYWxvZy4gCiAgICAgKiBF
eHRlbmRpbmcgY2xhc3NlcyBtdXN0IGltcGxlbWVudCB0aGlzIG1ldGhvZC4KICAgICAqLwogICAg
X2NyZWF0ZVdpZGdldENvbnRlbnQgOiBmdW5jdGlvbigpCiAgICB7CiAgICAgIHRoaXMuZXJyb3Io
Il9jcmVhdGVXaWRnZXRDb250ZW50IG5vdCBpbXBsZW1lbnRlZCEiKTsKICAgIH0sICAKICAgIAog
ICAgLyoqCiAgICAgKiBDcmVhdGVzIHRoZSBkZWZhdWx0IGNvbnRhaW5lciAoZ3JvdXBib3gpCiAg
ICAgKiBAdG9kbyBtYWtlIHRoaXMgdGhlbWVhYmxlCiAgICAgKi8KICAgIF9jcmVhdGVEaWFsb2dD
b250YWluZXIgOiBmdW5jdGlvbigpCiAgICB7CiAgICAgIHRoaXMuX19jb250YWluZXIgPSBuZXcg
cXgudWkuZ3JvdXBib3guR3JvdXBCb3goKS5zZXQoewogICAgICAgIGxheW91dCA6IG5ldyBxeC51
aS5sYXlvdXQuVkJveCgxMCksCiAgICAgICAgY29udGVudFBhZGRpbmc6IFsxNiwgMTYsIDE2LCAx
Nl0KICAgICAgfSk7CiAgICAgIHRoaXMuYWRkKCB0aGlzLl9fY29udGFpbmVyICk7CiAgICAgIHJl
dHVybiB0aGlzLl9fY29udGFpbmVyOwogICAgfSwgICAgICAKICAgIAogICAgLyoqCiAgICAgKiBD
cmVhdGUgYSBjYW5jZWwgYnV0dG9uCiAgICAgKiBAcmV0dXJuIHtxeC51aS5mb3JtLkJ1dHRvbn0K
ICAgICAqLyAgICAKICAgIF9jcmVhdGVPa0J1dHRvbiA6IGZ1bmN0aW9uKCkKICAgIHsKICAgICAg
dmFyIG9rQnV0dG9uID0gdGhpcy5fb2tCdXR0b24gPSAgbmV3IHF4LnVpLmZvcm0uQnV0dG9uKHRo
aXMudHIoIk9LIikpOwogICAgICBva0J1dHRvbi5zZXRJY29uKCJpY29uLzIyL2FjdGlvbnMvZGlh
bG9nLW9rLnBuZyIpCiAgICAgIG9rQnV0dG9uLnNldEFsbG93U3RyZXRjaFgoZmFsc2UpOwogICAg
ICBva0J1dHRvbi5hZGRMaXN0ZW5lcigiZXhlY3V0ZSIsIHRoaXMuX2hhbmRsZU9rLCB0aGlzKTsg
IAogICAgICB0aGlzLmFkZExpc3RlbmVyKCJhcHBlYXIiLGZ1bmN0aW9uKCl7CiAgICAgICAgb2tC
dXR0b24uZm9jdXMoKTsKICAgICAgfSx0aGlzKTsKICAgICAgcmV0dXJuIG9rQnV0dG9uOwogICAg
fSwKICAgIAogICAgLyoqCiAgICAgKiBDcmVhdGUgYSBjYW5jZWwgYnV0dG9uLCB3aGljaCBpcyBo
aWRkZW4gYnkgZGVmYXVsdCBhbmQgd2lsbCBiZSBzaG93bgogICAgICogaWYgYWxsb3dDYW5jZWwg
cHJvcGVydHkgaXMgc2V0IHRvIHRydWUuCiAgICAgKiBAcmV0dXJuIHtxeC51aS5mb3JtLkJ1dHRv
bn0KICAgICAqLwogICAgX2NyZWF0ZUNhbmNlbEJ1dHRvbiA6IGZ1bmN0aW9uKCkKICAgIHsKICAg
ICAgdmFyIGNhbmNlbEJ1dHRvbiA9IHRoaXMuX2NhbmNlbEJ1dHRvbiA9ICBuZXcgcXgudWkuZm9y
bS5CdXR0b24odGhpcy50cigiQ2FuY2VsIikpOwogICAgICBjYW5jZWxCdXR0b24uc2V0QWxsb3dT
dHJldGNoWChmYWxzZSk7CiAgICAgIGNhbmNlbEJ1dHRvbi5zZXRJY29uKCJpY29uLzIyL2FjdGlv
bnMvZGlhbG9nLWNhbmNlbC5wbmciKTsKICAgICAgY2FuY2VsQnV0dG9uLmFkZExpc3RlbmVyKCJl
eGVjdXRlIiwgdGhpcy5faGFuZGxlQ2FuY2VsLCB0aGlzKTsgIAogICAgICB0aGlzLmJpbmQoImFs
bG93Q2FuY2VsIixjYW5jZWxCdXR0b24sInZpc2liaWxpdHkiLHsKICAgICAgICBjb252ZXJ0ZXIg
OiBmdW5jdGlvbiggdmFsdWUgKQogICAgICAgIHsKICAgICAgICAgIHJldHVybiB2YWx1ZSA/ICJ2
aXNpYmxlIiA6ICJleGNsdWRlZCI7CiAgICAgICAgfQogICAgICB9KTsgICAgICAKICAgICAgcmV0
dXJuIGNhbmNlbEJ1dHRvbjsKICAgIH0sCgogICAgLyoKICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQog
ICAgICAgQVBQTFkgTUVUSE9EUwogICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAqLyAKICAgIF9h
cHBseUltYWdlIDogZnVuY3Rpb24oIHZhbHVlLCBvbGQgKQogICAgewogICAgICB0aGlzLl9pbWFn
ZS5zZXRTb3VyY2UoIHZhbHVlICk7CiAgICAgIHRoaXMuX2ltYWdlLnNldFZpc2liaWxpdHkoIHZh
bHVlID8gInZpc2libGUiIDogImV4Y2x1ZGVkIiApOwogICAgfSwgCiAgICAKICAgIF9hcHBseU1l
c3NhZ2UgOiBmdW5jdGlvbiggdmFsdWUsIG9sZCApCiAgICB7CiAgICAgIHRoaXMuX21lc3NhZ2Uu
c2V0VmFsdWUoIHZhbHVlICk7CiAgICAgIHRoaXMuX21lc3NhZ2Uuc2V0VmlzaWJpbGl0eSggdmFs
dWUgPyAidmlzaWJsZSIgOiAiZXhjbHVkZWQiICk7CiAgICB9LCAgICAgCiAgICAKICAgIC8qCiAg
ICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgQVBJIE1FVEhPRFMKICAgIC0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLQogICAgKi8gICAgIAogICAgCiAgICAvKioKICAgICAqIFJldHVybnMgdGhlIHdpZGdldHMg
dGhhdCBpcyB0aGUgY29udGFpbmVyIG9mIHRoZSBkaWFsb2cKICAgICAqIEByZXR1cm4ge3F4LnVp
LmNvcmUuTGF5b3V0SXRlbX0KICAgICAqLwogICAgZ2V0RGlhbG9nQ29udGFpbmVyIDogZnVuY3Rp
b24oKQogICAgewogICAgICBpZiAoICEgdGhpcy5fX2NvbnRhaW5lciApCiAgICAgIHsKICAgICAg
ICByZXR1cm4gdGhpcy5fY3JlYXRlRGlhbG9nQ29udGFpbmVyKCk7CiAgICAgIH0KICAgICAgcmV0
dXJuIHRoaXMuX19jb250YWluZXI7CiAgICB9LAogICAgCiAgICAvKioKICAgICAqIFNob3cgdGhl
IHdpZGdldC4gT3ZlcnJpZGluZyBtZXRob2RzIG11c3QgY2FsbCB0aGlzIHBhcmVudCBtZXRob2QK
ICAgICAqLwogICAgc2hvdyA6IGZ1bmN0aW9uKCkKICAgIHsKICAgICAgaWYgKCB0aGlzLmlzVXNl
QmxvY2tlcigpICkKICAgICAgewogICAgICAgIHZhciByb290ID0gcXguY29yZS5Jbml0LmdldEFw
cGxpY2F0aW9uKCkuZ2V0Um9vdCgpOwogICAgICAgIHRoaXMuX19ibG9ja2VyID0gbmV3IHF4LnVp
LmNvcmUuQmxvY2tlcihyb290KTsKICAgICAgICB0aGlzLl9fYmxvY2tlci5zZXRPcGFjaXR5KCB0
aGlzLmdldEJsb2NrZXJPcGFjaXR5KCkgKTsKICAgICAgICB0aGlzLl9fYmxvY2tlci5zZXRDb2xv
ciggdGhpcy5nZXRCbG9ja2VyQ29sb3IoKSApOyAgCiAgICAgICAgCiAgICAgICAgLyoKICAgICAg
ICAqIG1ha2Ugc3VyZSB0aGUgZGlhbG9nIGlzIGFib3ZlIGFueSBvcGVuZWQgd2luZG93CiAgICAg
ICAgKi8KICAgICAgICB2YXIgbWF4V2luZG93WkluZGV4ID0gcm9vdC5nZXRaSW5kZXgoKTsKICAg
ICAgICB2YXIgd2luZG93cyA9IHJvb3QuZ2V0V2luZG93cygpOwogICAgICAgIGZvciAodmFyIGkg
PSAwOyBpIDwgd2luZG93cy5sZW5ndGg7IGkrKykgewogICAgICAgICAgdmFyIHpJbmRleCA9IHdp
bmRvd3NbaV0uZ2V0WkluZGV4KCk7CiAgICAgICAgICBtYXhXaW5kb3daSW5kZXggPSBNYXRoLm1h
eChtYXhXaW5kb3daSW5kZXgsIHpJbmRleCk7CiAgICAgICAgfQogICAgICAgIHRoaXMuc2V0Wklu
ZGV4KCBtYXhXaW5kb3daSW5kZXggKzEgKTsKICAgICAgICB0aGlzLl9fYmxvY2tlci5ibG9ja0Nv
bnRlbnQoIG1heFdpbmRvd1pJbmRleCApOwogICAgICB9ICAgCiAgICAgIHRoaXMuc2V0VmlzaWJp
bGl0eSgidmlzaWJsZSIpOwogICAgICB0aGlzLl9fcHJldmlvdXNGb2N1cyA9IHF4LnVpLmNvcmUu
Rm9jdXNIYW5kbGVyLmdldEluc3RhbmNlKCkuZ2V0QWN0aXZlV2lkZ2V0KCk7CiAgICAgIHRoaXMu
Zm9jdXMoKTsKICAgIH0sCiAgICAKICAgIC8qKgogICAgICogSGlkZSB0aGUgd2lkZ2V0LiBPdmVy
cmlkaW5nIG1ldGhvZHMgbXVzdCBjYWxsIHRoaXMgcGFyZW50IG1ldGhvZAogICAgICovICAgIAog
ICAgaGlkZSA6IGZ1bmN0aW9uKCkKICAgIHsKICAgICAgdGhpcy5zZXRWaXNpYmlsaXR5KCJoaWRk
ZW4iKTsKICAgICAgaWYgKCB0aGlzLmlzVXNlQmxvY2tlcigpICkKICAgICAgewogICAgICAgIHRo
aXMuX19ibG9ja2VyLnVuYmxvY2soKTsKICAgICAgfQogICAgICBpZiAoIHRoaXMuX19wcmV2aW91
c0ZvY3VzICkKICAgICAgewogICAgICAgIHRyeQogICAgICAgIHsKICAgICAgICAgIHRoaXMuX19w
cmV2aW91c0ZvY3VzLmZvY3VzKCk7CiAgICAgICAgfQogICAgICAgIGNhdGNoKCBlICl7fQogICAg
ICB9CiAgICB9LAogICAgCiAgICAvKgogICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICBFVkVO
VCBIQU5ETEVSUwogICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAqLyAgICAgCiAgICAKICAgIC8q
KgogICAgICogSGFuZGxlIGNsaWNrIG9uIG9rIGJ1dHRvbi4gQ2FsbHMgY2FsbGJhY2sgd2l0aCBh
ICJ0cnVlIiBhcmd1bWVudAogICAgICovCiAgICBfaGFuZGxlT2sgOiBmdW5jdGlvbigpCiAgICB7
CiAgICAgIHRoaXMuaGlkZSgpOwogICAgICB0aGlzLmZpcmVFdmVudCgib2siKTsKICAgICAgaWYo
IHRoaXMuZ2V0Q2FsbGJhY2soKSApCiAgICAgIHsKICAgICAgICB0aGlzLmdldENhbGxiYWNrKCku
Y2FsbCh0aGlzLmdldENvbnRleHQoKSx0cnVlKTsKICAgICAgfQogICAgICB0aGlzLnJlc2V0Q2Fs
bGJhY2soKTsKICAgIH0sICAKCiAgICAvKioKICAgICAqIEhhbmRsZSBjbGljayBvbiBjYW5jZWwg
YnV0dG9uLiBDYWxscyBjYWxsYmFjayB3aXRoIAogICAgICogYW4gInVuZGVmaW5lZCIgYXJndW1l
bnQKICAgICAqLwogICAgX2hhbmRsZUNhbmNlbCA6IGZ1bmN0aW9uKCkKICAgIHsKICAgICAgdGhp
cy5oaWRlKCk7CiAgICAgIHRoaXMuZmlyZUV2ZW50KCJjYW5jZWwiKTsKICAgICAgaWYoIHRoaXMu
Z2V0Q2FsbGJhY2soKSApCiAgICAgIHsKICAgICAgICB0aGlzLmdldENhbGxiYWNrKCkuY2FsbCh0
aGlzLmdldENvbnRleHQoKSk7CiAgICAgIH0KICAgICAgdGhpcy5yZXNldENhbGxiYWNrKCk7CiAg
ICB9LAogICAgX19ibG9ja2VyOiBudWxsICAgICAgCiAgfQogIAogIAp9KTsK
</data>

          </attachment>
      

    </bug>