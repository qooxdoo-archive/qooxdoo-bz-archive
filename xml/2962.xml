<bug>
          <bug_id>2962</bug_id>
          
          <creation_ts>2009-10-21 16:09:00 +0200</creation_ts>
          <short_desc>The splitting job should allow for different border widths in different directions</short_desc>
          <delta_ts>2014-03-03 15:23:02 +0100</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>1</classification_id>
          <classification>Unclassified</classification>
          <product>framework</product>
          <component>tool</component>
          <version>0.8.3</version>
          <rep_platform>All</rep_platform>
          <op_sys>All</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>FIXED</resolution>
          
          
          
          
          
          <priority>P2</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>1.3</target_milestone>
          
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Jean-Noel Rivasseau">elvanor</reporter>
          <assigned_to name="Daniel Wagner">daniel.wagner</assigned_to>
          <cc>gradinf</cc>
    
    <cc>matthew+qooxdoo</cc>
    
    <cc>thron7</cc>
    
    <cc>uwe.stahl</cc>
          <qa_contact name="qooxdoo bugs mailing list">qooxdoo-bugs</qa_contact>
          <cf_browser>---</cf_browser>
          

      

      

      

          <long_desc isprivate="0">
            <commentid>13395</commentid>
            <who name="Jean-Noel Rivasseau">elvanor</who>
            <bug_when>2009-10-21 16:09:19 +0200</bug_when>
            <thetext>Very often an image needs to be splitted with a different width for the top and the bottom, or for the top and the left.

Currently only specifying an uniform width is possible for the splitting job. Underlneath ImageMagick is used, so I guess it should not be very difficult to add this improvement.

I currently have to split images &quot;manually&quot; because of this.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>13397</commentid>
            <who name="Andreas Ecker">qooxdoo</who>
            <bug_when>2009-10-21 16:18:32 +0200</bug_when>
            <thetext>Fabian, how much effort would that be? This enhancement might have to wait ...</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>13399</commentid>
            <who name="Thomas Herchenroeder">thron7</who>
            <bug_when>2009-10-21 17:01:04 +0200</bug_when>
            <thetext>We have already a &quot;border-width&quot; attribute for the &quot;slice-images&quot; action, which currently takes the named uniform width [1]. This could be turned into an array, and the values passed to the function calling out to ImageMagick.

[1] http://qooxdoo.org/documentation/0.8/generator_config_ref#slice-images</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>13400</commentid>
            <who name="Matthew">matthew+qooxdoo</who>
            <bug_when>2009-10-21 17:12:04 +0200</bug_when>
            <thetext>it would also be nice if the grid decorator, combiner, splitter etc.. all skip any sides where the width is 0</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>13431</commentid>
            <who name="Jean-Noel Rivasseau">elvanor</who>
            <bug_when>2009-10-22 12:56:10 +0200</bug_when>
            <thetext>Totally agreed with last comment. In fact the real blocker for us is that the Grid decorator still looks for images with 0 width, resulting in ugly 404s.

Maybe I should open a separate bug report for this?</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>13448</commentid>
            <who name="Matthew">matthew+qooxdoo</who>
            <bug_when>2009-10-23 12:06:41 +0200</bug_when>
            <thetext>I have had a look at the grid decorator and it will be fairly easy to update the decorator class to support this functionality. As is it will work fine with different border widths on different edges. It is just a case of updating it to ignore images with a 0 width or height.
I don&#39;t mind creating a patch for this when I get time. After that though the generator will need to be updated to support array for border widths</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>13449</commentid>
              <attachid>633</attachid>
            <who name="Matthew">matthew+qooxdoo</who>
            <bug_when>2009-10-23 12:18:58 +0200</bug_when>
            <thetext>Created attachment 633
Patch for the grid decorator

This fixes the problem with the grid decorator when images are missing.
This doesn&#39;t include anything for the generator though</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>13650</commentid>
            <who name="Jean-Noel Rivasseau">elvanor</who>
            <bug_when>2009-10-28 21:29:20 +0100</bug_when>
            <thetext>I applied the patch, it works very well. Thanks Matthew!

Could someone review it and apply it to trunk?</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>13661</commentid>
            <who name="Matthew">matthew+qooxdoo</who>
            <bug_when>2009-10-29 10:49:37 +0100</bug_when>
            <thetext>Before it is applied I would like to make a quick suggestion. I haven&#39;t looked at them (I didn&#39;t know they existed until recently) but somebody mentioned that there are VBox and HBox decorators. If the naming convention for images is the same, this patch will allow the grid decorator to behave exactly the same as the HBox or VBox. Perhaps a little refactoring might be in order?

As I said I&#39;m not sure as I haven&#39;t checked the other decorators yet</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>13662</commentid>
            <who name="Jean-Noel Rivasseau">elvanor</who>
            <bug_when>2009-10-29 10:53:47 +0100</bug_when>
            <thetext>In my case, the HBox decorator is not enough as it only uses 3 images. I use 6 images in one of my use cases, eg all the images except the top ones.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>13663</commentid>
            <who name="Matthew">matthew+qooxdoo</who>
            <bug_when>2009-10-29 10:57:44 +0100</bug_when>
            <thetext>(In reply to comment #9)
Agreed, what I was suggesting is that this patch could be used to replace the current grid, vbox and hbox decorators with a single decorator that supports all of the functionality. Or perhaps have VBox and HBox derive from grid but orveride the getEdges function?

</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>13732</commentid>
            <who name="Fabian Jakobs">fabian.jakobs</who>
            <bug_when>2009-10-30 13:03:28 +0100</bug_when>
            <thetext>I like this patch because it removes a lot of duplication from the code. I&#39;m not sure if we can make it more generic so we can implement HBox and VBox as special cases of this class. I&#39;ll look at this but it might take a little.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>15240</commentid>
            <who name="Fabian Jakobs">fabian.jakobs</who>
            <bug_when>2009-12-03 13:55:39 +0100</bug_when>
            <thetext>to 1.0.1</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>15970</commentid>
            <who name="Jean-Noel Rivasseau">elvanor</who>
            <bug_when>2009-12-21 19:59:28 +0100</bug_when>
            <thetext>The patch still applies cleanly to 1.0. It would be excellent to include this upstream for 1.0.1 though.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>16502</commentid>
            <who name="Andreas Ecker">qooxdoo</who>
            <bug_when>2010-01-27 16:30:51 +0100</bug_when>
            <thetext>moved to target 1.0.2</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>16766</commentid>
            <who name="Jean-Noel Rivasseau">elvanor</who>
            <bug_when>2010-02-09 18:23:24 +0100</bug_when>
            <thetext>Patch still applies to 1.0.1. Boosted the severity (I hope you don&#39;t mind - enhancement really is low) as this patch is absolutely essential IMHO (I could not live without it), yet still not applied to upstream trunk :(</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>17320</commentid>
            <who name="Martin Wittemann">martin.wittemann</who>
            <bug_when>2010-03-17 13:39:32 +0100</bug_when>
            <thetext>to Martin</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>18164</commentid>
            <who name="Martin Wittemann">martin.wittemann</who>
            <bug_when>2010-05-04 10:17:55 +0200</bug_when>
            <thetext>--&gt; Thomas</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>18171</commentid>
              <attachid>740</attachid>
            <who name="Wayne">w.si</who>
            <bug_when>2010-05-04 11:00:29 +0200</bug_when>
            <thetext>Created attachment 740
Patch to allow for different border widths in dif dir

Either a single value or a four-int array is allowed. Clock-wise from top for the array.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>20246</commentid>
            <who name="Daniel Wagner">daniel.wagner</who>
            <bug_when>2010-09-17 12:08:31 +0200</bug_when>
            <thetext>Reviewed Wayne&#39;s Generator patch and applied to trunk (r23319). To Chris for the Decorator part.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>20682</commentid>
            <who name="Christian Hagendorn">christian.hagendorn</who>
            <bug_when>2010-10-13 14:08:37 +0200</bug_when>
            <thetext>Hi Jean-Noel, Hi Matthew,

I need some more information to understand why 0 values make problems here. When I try to splice the images with the new job (applied patch with r23319). It is not possible for me to get images with a height or width with 0. So why should the grid decorator respect 0 values?

Thanks,
Chris</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>20687</commentid>
              <attachid>819</attachid>
            <who name="Christian Hagendorn">christian.hagendorn</who>
            <bug_when>2010-10-14 10:06:20 +0200</bug_when>
            <thetext>Created attachment 819
Patch for 1.3-pre

I created a new patch based on the old one and done some minor improvements.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>20738</commentid>
            <who name="Christian Hagendorn">christian.hagendorn</who>
            <bug_when>2010-10-18 09:37:39 +0200</bug_when>
            <thetext>Hi, are there any updates about the 0 value feature request?</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>20739</commentid>
            <who name="Jean-Noel Rivasseau">elvanor</who>
            <bug_when>2010-10-18 09:55:31 +0200</bug_when>
            <thetext>(In reply to comment #22)
&gt; Hi, are there any updates about the 0 value feature request?

I dont know exactly what to say. In the past (old days pre Qx-1.0), the 0 values had to be taken into account to prevent warnings that occured about inexistant images (since these images were not there, of course).

Looking at my earlier comments, it also resulted in 404s server calls trying to find the non existant images.

It may or may no longer be relevant to the current code, but anyway Qx should support sides having 0 px values (eg, non existant sides). We use such decorators all the time.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>20740</commentid>
            <who name="Christian Hagendorn">christian.hagendorn</who>
            <bug_when>2010-10-18 10:46:44 +0200</bug_when>
            <thetext>Hi Jean-Noel, 

thanks, now it is more clear for me. But I would prefer to open a separate bug report for the 0 values (image doesn&#39;t exist). The grid decorator has two implementations &quot;qx.ui.decoration.GridDiv&quot; and &quot;qx.ui.decoration.css3.BorderImage&quot;, both has a problem when images are missing. 
&quot;GridDiv&quot; relies on that all images are exist and &quot;BorderImage&quot; relies on that the top and left images exist. So could you please open a seperate bug report? Thanks</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>20741</commentid>
            <who name="Christian Hagendorn">christian.hagendorn</who>
            <bug_when>2010-10-18 11:09:34 +0200</bug_when>
            <thetext>Daniel, could you please check that it is possible to allow 0 values in the splitting job. At the moment it is not possible to use 0 values. I set for example the right value to 0. 

&quot;slice-images&quot; :
{
  &quot;images&quot; :
  {
    &quot;${RESPATH}/button.png&quot; :
    {
      &quot;prefix&quot; : &quot;clipped/button&quot;,
      &quot;border-width&quot; : [4, 0, 4, 4]
    }
  }
}

Then all right images (tr, r and rb) gets the size from the original image (maybe it&#39;s only a copy). Image magick alos logs a waring:

============================================================================
    EXECUTING: IMAGE-CLIPPING
============================================================================
&gt;&gt;&gt; Initializing cache...
Magick: geometry does not contain image `button.png&#39; @ warning/transform.c/CropImage/600.
Magick: geometry does not contain image `button.png&#39; @ warning/transform.c/CropImage/600.
Magick: geometry does not contain image `button.png&#39; @ warning/transform.c/CropImage/600.
&gt;&gt;&gt; Done</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>21083</commentid>
            <who name="Jean-Noel Rivasseau">elvanor</who>
            <bug_when>2010-11-04 12:52:10 +0100</bug_when>
            <thetext>Do you still want me to open a new bug report?</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>21146</commentid>
            <who name="Daniel Wagner">daniel.wagner</who>
            <bug_when>2010-11-08 09:56:38 +0100</bug_when>
            <thetext>@Jean-Noel: Yes, please open a new report. I think it&#39;s better to have separate reports for the framework and Generator aspects of this issue.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>21514</commentid>
            <who name="Daniel Wagner">daniel.wagner</who>
            <bug_when>2010-11-23 18:12:30 +0100</bug_when>
            <thetext>As of r23946, ImageClipping.py only creates necessary images. Jean-Noel, did you get around to filing that report for the framework decoration classes?</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>21516</commentid>
            <who name="Daniel Wagner">daniel.wagner</who>
            <bug_when>2010-11-23 18:18:13 +0100</bug_when>
            <thetext>*** Bug 4110 has been marked as a duplicate of this bug. ***</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>21870</commentid>
            <who name="Daniel Wagner">daniel.wagner</who>
            <bug_when>2010-12-08 14:29:26 +0100</bug_when>
            <thetext>*** Bug 4456 has been marked as a duplicate of this bug. ***</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>25244</commentid>
            <who name="Jean-Noel Rivasseau">elvanor</who>
            <bug_when>2011-06-23 14:31:38 +0200</bug_when>
            <thetext>I finally got around to file the bug for the framework classes part.

It is bug http://bugzilla.qooxdoo.org/show_bug.cgi?id=5279 and we are ready to help fixing it, since we need it ASAP...</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>37866</commentid>
            <who name="Martin Wittemann">martin.wittemann</who>
            <bug_when>2014-03-03 15:23:02 +0100</bug_when>
            <thetext>Closed all bugs already shipped with a release.</thetext>
          </long_desc>
      
          <attachment isobsolete="0" ispatch="1" isprivate="0" isurl="0">
            <attachid>633</attachid>
            <date>2009-10-23 12:18:00 +0200</date>
            <delta_ts>2009-10-23 12:18:58 +0200</delta_ts>
            <desc>Patch for the grid decorator</desc>
            <filename>2962-part-fix.patch</filename>
            <type>text/plain</type>
            <size>6138</size>
            <attacher>matthew+qooxdoo</attacher>
            
              <data encoding="base64">SW5kZXg6IGZyYW1ld29yay9zb3VyY2UvY2xhc3MvcXgvdWkvZGVjb3JhdGlvbi9HcmlkLmpzDQo9
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09DQotLS0gZnJhbWV3b3JrL3NvdXJjZS9jbGFzcy9xeC91aS9kZWNvcmF0aW9uL0dy
aWQuanMJKHJldmlzaW9uIDIwMzkxKQ0KKysrIGZyYW1ld29yay9zb3VyY2UvY2xhc3MvcXgvdWkv
ZGVjb3JhdGlvbi9HcmlkLmpzCSh3b3JraW5nIGNvcHkpDQpAQCAtMTE1LDYgKzExNSw3IEBADQog
ICAgIF9fbWFya3VwIDogbnVsbCwKICAgICBfX2ltYWdlcyA6IG51bGwsCiAgICAgX19lZGdlcyA6
IG51bGwsCisgICAgX19wYXJ0cyA6IG51bGwsCiAKIAogICAgIC8vIG92ZXJyaWRkZW4KQEAgLTE1
MSw2ICsxNTIsNyBAQA0KICAgICAgIHZhciBEZWNvcmF0aW9uID0gcXguYm9tLmVsZW1lbnQuRGVj
b3JhdGlvbjsKICAgICAgIHZhciBpbWFnZXMgPSB0aGlzLl9faW1hZ2VzOwogICAgICAgdmFyIGVk
Z2VzID0gdGhpcy5fX2VkZ2VzOworICAgICAgdmFyIHBhcnRzID0gKHRoaXMuX19wYXJ0cyA9IHt9
KTsKIAogICAgICAgLy8gQ3JlYXRlIGVkZ2VzIGFuZCB2ZXJ0aWNhbCBzaWRlcwogICAgICAgLy8g
T3JkZXI6IHRsLCB0LCB0ciwgYmwsIGIsIGJ0LCBsLCBjLCByCkBAIC0xNjEsMjAgKzE2MywzNiBA
QA0KICAgICAgIC8vIGRyYWdnaW5nIHdoZW4gdGhlIGN1cnNvciBpcyBpbiB0aGUgdGV4dCBmaWVs
ZCBpbiBTcGlubmVycyBldGMuCiAgICAgICBodG1sLnB1c2goJzxkaXYgc3R5bGU9InBvc2l0aW9u
OmFic29sdXRlO3RvcDowO2xlZnQ6MDtvdmVyZmxvdzpoaWRkZW47Zm9udC1zaXplOjA7bGluZS1o
ZWlnaHQ6MDsiPicpOwogCisgICAgICBmdW5jdGlvbiBhZGRQYXJ0KHBhcnQsIHJlcGVhdCwgc3R5
bGUpCisgICAgICB7CisgICAgICAgIGlmICgoc3R5bGUudG9wICAgICE9PSAwIHx8IGVkZ2VzLnRv
cCkgICAgJiYKKyAgICAgICAgICAgIChzdHlsZS5sZWZ0ICAgIT09IDAgfHwgZWRnZXMubGVmdCkg
ICAmJgorICAgICAgICAgICAgKHN0eWxlLmJvdHRvbSAhPT0gMCB8fCBlZGdlcy5ib3R0b20pICYm
CisgICAgICAgICAgICAoc3R5bGUucmlnaHQgICE9PSAwIHx8IGVkZ2VzLnJpZ2h0KSkKKyAgICAg
ICAgeworICAgICAgICAgIHBhcnRzW3BhcnRdID0gaHRtbC5sZW5ndGggLSAxOyAKKyAgICAgICAg
ICBodG1sLnB1c2goRGVjb3JhdGlvbi5jcmVhdGUoaW1hZ2VzW3BhcnRdLCByZXBlYXQsIHN0eWxl
KSk7CisgICAgICAgIH0KKyAgICAgICAgZWxzZQorICAgICAgICB7CisgICAgICAgICAgcGFydHNb
cGFydF0gPSAtMTsKKyAgICAgICAgfQorICAgICAgfQorCiAgICAgICAvLyBUb3A6IGxlZnQsIGNl
bnRlciwgcmlnaHQKLSAgICAgIGh0bWwucHVzaChEZWNvcmF0aW9uLmNyZWF0ZShpbWFnZXMudGws
ICJuby1yZXBlYXQiLCB7IHRvcDogMCwgbGVmdDogMCB9KSk7Ci0gICAgICBodG1sLnB1c2goRGVj
b3JhdGlvbi5jcmVhdGUoaW1hZ2VzLnQsICJzY2FsZS14IiwgeyB0b3A6IDAsIGxlZnQ6IGVkZ2Vz
LmxlZnQgKyAicHgiIH0pKTsKLSAgICAgIGh0bWwucHVzaChEZWNvcmF0aW9uLmNyZWF0ZShpbWFn
ZXMudHIsICJuby1yZXBlYXQiLCB7IHRvcDogMCwgcmlnaHQgOiAwIH0pKTsKKyAgICAgIGFkZFBh
cnQoInRsIiwgIm5vLXJlcGVhdCIsIHsgdG9wOiAwLCBsZWZ0OiAwIH0pOworICAgICAgYWRkUGFy
dCgidCIsICAic2NhbGUteCIsICAgeyB0b3A6IDAsIGxlZnQ6IGVkZ2VzLmxlZnQgKyAicHgiIH0p
OworICAgICAgYWRkUGFydCgidHIiLCAibm8tcmVwZWF0IiwgeyB0b3A6IDAsIHJpZ2h0IDogMCB9
KTsKIAogICAgICAgLy8gQm90dG9tOiBsZWZ0LCBjZW50ZXIsIHJpZ2h0Ci0gICAgICBodG1sLnB1
c2goRGVjb3JhdGlvbi5jcmVhdGUoaW1hZ2VzLmJsLCAibm8tcmVwZWF0IiwgeyBib3R0b206IDAs
IGxlZnQ6MCB9KSk7Ci0gICAgICBodG1sLnB1c2goRGVjb3JhdGlvbi5jcmVhdGUoaW1hZ2VzLmIs
ICJzY2FsZS14IiwgeyBib3R0b206IDAsIGxlZnQ6IGVkZ2VzLmxlZnQgKyAicHgiIH0pKTsKLSAg
ICAgIGh0bWwucHVzaChEZWNvcmF0aW9uLmNyZWF0ZShpbWFnZXMuYnIsICJuby1yZXBlYXQiLCB7
IGJvdHRvbTogMCwgcmlnaHQ6IDAgfSkpOworICAgICAgYWRkUGFydCgiYmwiLCAibm8tcmVwZWF0
IiwgeyBib3R0b206IDAsIGxlZnQ6MCB9KTsKKyAgICAgIGFkZFBhcnQoImIiLCAgInNjYWxlLXgi
LCAgIHsgYm90dG9tOiAwLCBsZWZ0OiBlZGdlcy5sZWZ0ICsgInB4IiB9KTsKKyAgICAgIGFkZFBh
cnQoImJyIiwgIm5vLXJlcGVhdCIsIHsgYm90dG9tOiAwLCByaWdodDogMCB9KTsKIAogICAgICAg
Ly8gTWlkZGxlOiBsZWZ0LCBjZW50ZXIsIHJpZ2h0Ci0gICAgICBodG1sLnB1c2goRGVjb3JhdGlv
bi5jcmVhdGUoaW1hZ2VzLmwsICJzY2FsZS15IiwgeyB0b3A6IGVkZ2VzLnRvcCArICJweCIsIGxl
ZnQ6IDAgfSkpOwotICAgICAgaHRtbC5wdXNoKERlY29yYXRpb24uY3JlYXRlKGltYWdlcy5jLCAi
c2NhbGUiLCB7IHRvcDogZWRnZXMudG9wICsgInB4IiwgbGVmdDogZWRnZXMubGVmdCArICJweCIg
fSkpOwotICAgICAgaHRtbC5wdXNoKERlY29yYXRpb24uY3JlYXRlKGltYWdlcy5yLCAic2NhbGUt
eSIsIHsgdG9wOiBlZGdlcy50b3AgKyAicHgiLCByaWdodDogMCB9KSk7CisgICAgICBhZGRQYXJ0
KCJsIiwgInNjYWxlLXkiLCB7IHRvcDogZWRnZXMudG9wICsgInB4IiwgbGVmdDogMCB9KTsKKyAg
ICAgIGFkZFBhcnQoImMiLCAic2NhbGUiLCAgIHsgdG9wOiBlZGdlcy50b3AgKyAicHgiLCBsZWZ0
OiBlZGdlcy5sZWZ0ICsgInB4IiB9KTsKKyAgICAgIGFkZFBhcnQoInIiLCAic2NhbGUteSIsIHsg
dG9wOiBlZGdlcy50b3AgKyAicHgiLCByaWdodDogMCB9KTsKIAogICAgICAgLy8gT3V0ZXIgZnJh
bWUKICAgICAgIGh0bWwucHVzaCgnPC9kaXY+Jyk7CkBAIC0xODksNiArMjA3LDcgQEANCiAgICAg
ewogICAgICAgLy8gQ29tcHV0ZSBpbm5lciBzaXplcwogICAgICAgdmFyIGVkZ2VzID0gdGhpcy5f
X2VkZ2VzOworICAgICAgdmFyIHBhcnRzID0gdGhpcy5fX3BhcnRzOwogICAgICAgdmFyIGlubmVy
V2lkdGggPSB3aWR0aCAtIGVkZ2VzLmxlZnQgLSBlZGdlcy5yaWdodDsKICAgICAgIHZhciBpbm5l
ckhlaWdodCA9IGhlaWdodCAtIGVkZ2VzLnRvcCAtIGVkZ2VzLmJvdHRvbTsKIApAQCAtMjAwLDE0
ICsyMTksMjEgQEANCiAgICAgICBlbGVtZW50LnN0eWxlLndpZHRoID0gd2lkdGggKyAicHgiOwog
ICAgICAgZWxlbWVudC5zdHlsZS5oZWlnaHQgPSBoZWlnaHQgKyAicHgiOwogCi0gICAgICBlbGVt
ZW50LmNoaWxkTm9kZXNbMV0uc3R5bGUud2lkdGggPSBpbm5lcldpZHRoICsgInB4IjsKLSAgICAg
IGVsZW1lbnQuY2hpbGROb2Rlc1s0XS5zdHlsZS53aWR0aCA9IGlubmVyV2lkdGggKyAicHgiOwot
ICAgICAgZWxlbWVudC5jaGlsZE5vZGVzWzddLnN0eWxlLndpZHRoID0gaW5uZXJXaWR0aCArICJw
eCI7CisgICAgICBmdW5jdGlvbiBmaXhTaXplKGluZGV4LCBmaXhXaWR0aCwgZml4SGVpZ2h0KQor
ICAgICAgeworICAgICAgICBpZiAoaW5kZXggIT09IC0xKQorICAgICAgICB7CisgICAgICAgICAg
dmFyIHBhcnQgPSBlbGVtZW50LmNoaWxkTm9kZXNbaW5kZXhdOworICAgICAgICAgIGlmIChmaXhX
aWR0aCkgIHsgcGFydC5zdHlsZS53aWR0aCAgPSBpbm5lcldpZHRoICArICJweCI7IH0KKyAgICAg
ICAgICBpZiAoZml4SGVpZ2h0KSB7IHBhcnQuc3R5bGUuaGVpZ2h0ID0gaW5uZXJIZWlnaHQgKyAi
cHgiOyB9CisgICAgICAgIH0KKyAgICAgIH0KKyAgICAgIGZpeFNpemUocGFydHMudCwgdHJ1ZSwg
IGZhbHNlKTsKKyAgICAgIGZpeFNpemUocGFydHMuYiwgdHJ1ZSwgIGZhbHNlKTsKKyAgICAgIGZp
eFNpemUocGFydHMuYywgdHJ1ZSwgIHRydWUpOworICAgICAgZml4U2l6ZShwYXJ0cy5sLCBmYWxz
ZSwgdHJ1ZSk7CisgICAgICBmaXhTaXplKHBhcnRzLnIsIGZhbHNlLCB0cnVlKTsKIAotICAgICAg
ZWxlbWVudC5jaGlsZE5vZGVzWzZdLnN0eWxlLmhlaWdodCA9IGlubmVySGVpZ2h0ICsgInB4IjsK
LSAgICAgIGVsZW1lbnQuY2hpbGROb2Rlc1s3XS5zdHlsZS5oZWlnaHQgPSBpbm5lckhlaWdodCAr
ICJweCI7Ci0gICAgICBlbGVtZW50LmNoaWxkTm9kZXNbOF0uc3R5bGUuaGVpZ2h0ID0gaW5uZXJI
ZWlnaHQgKyAicHgiOwotCiAgICAgICBpZiAocXguY29yZS5WYXJpYW50LmlzU2V0KCJxeC5jbGll
bnQiLCAibXNodG1sIikpCiAgICAgICB7CiAgICAgICAgIC8vIEludGVybmV0IEV4cGxvcmVyIGFz
IG9mIHZlcnNpb24gNiBvciB2ZXJzaW9uIDcgaW4gcXVpcmtzIG1vZGUKQEAgLTIyMCwzMSArMjQ2
LDIzIEBADQogICAgICAgICBpZiAocXguYm9tLmNsaWVudC5FbmdpbmUuVkVSU0lPTiA8IDcgfHwK
ICAgICAgICAgICAocXguYm9tLmNsaWVudC5GZWF0dXJlLlFVSVJLU19NT0RFICYmIHF4LmJvbS5j
bGllbnQuRW5naW5lLlZFUlNJT04gPCA4KSkKICAgICAgICAgewotICAgICAgICAgIGlmICh3aWR0
aCUyPT0xKQorICAgICAgICAgIHZhciBtYXJnaW5SaWdodCAgPSB3aWR0aCAgJSAyID8gIi0xcHgi
IDogIjBweCI7CisgICAgICAgICAgdmFyIG1hcmdpbkJvdHRvbSA9IGhlaWdodCAlIDIgPyAiLTFw
eCIgOiAiMHB4IjsKKyAgICAgICAgICAKKyAgICAgICAgICBmdW5jdGlvbiBmaXhNYXJnaW4oaW5k
ZXgsIGZpeFJpZ2h0LCBmaXhCb3R0b20pCiAgICAgICAgICAgewotICAgICAgICAgICAgZWxlbWVu
dC5jaGlsZE5vZGVzWzJdLnN0eWxlLm1hcmdpblJpZ2h0ID0gIi0xcHgiOwotICAgICAgICAgICAg
ZWxlbWVudC5jaGlsZE5vZGVzWzVdLnN0eWxlLm1hcmdpblJpZ2h0ID0gIi0xcHgiOwotICAgICAg
ICAgICAgZWxlbWVudC5jaGlsZE5vZGVzWzhdLnN0eWxlLm1hcmdpblJpZ2h0ID0gIi0xcHgiOwor
ICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkKKyAgICAgICAgICAgIHsKKyAgICAgICAgICAg
ICAgdmFyIHBhcnQgPSBlbGVtZW50LmNoaWxkTm9kZXNbaW5kZXhdOworICAgICAgICAgICAgICBp
ZiAoZml4UmlnaHQpICB7IHBhcnQuc3R5bGUubWFyZ2luUmlnaHQgID0gbWFyZ2luUmlnaHQ7ICB9
CisgICAgICAgICAgICAgIGlmIChmaXhCb3R0b20pIHsgcGFydC5zdHlsZS5tYXJnaW5Cb3R0b20g
PSBtYXJnaW5Cb3R0b207IH0KKyAgICAgICAgICAgIH0KICAgICAgICAgICB9Ci0gICAgICAgICAg
ZWxzZQotICAgICAgICAgIHsKLSAgICAgICAgICAgIGVsZW1lbnQuY2hpbGROb2Rlc1syXS5zdHls
ZS5tYXJnaW5SaWdodCA9ICIwcHgiOwotICAgICAgICAgICAgZWxlbWVudC5jaGlsZE5vZGVzWzVd
LnN0eWxlLm1hcmdpblJpZ2h0ID0gIjBweCI7Ci0gICAgICAgICAgICBlbGVtZW50LmNoaWxkTm9k
ZXNbOF0uc3R5bGUubWFyZ2luUmlnaHQgPSAiMHB4IjsKLSAgICAgICAgICB9Ci0KLSAgICAgICAg
ICBpZiAoaGVpZ2h0JTI9PTEpCi0gICAgICAgICAgewotICAgICAgICAgICAgZWxlbWVudC5jaGls
ZE5vZGVzWzNdLnN0eWxlLm1hcmdpbkJvdHRvbSA9ICItMXB4IjsKLSAgICAgICAgICAgIGVsZW1l
bnQuY2hpbGROb2Rlc1s0XS5zdHlsZS5tYXJnaW5Cb3R0b20gPSAiLTFweCI7Ci0gICAgICAgICAg
ICBlbGVtZW50LmNoaWxkTm9kZXNbNV0uc3R5bGUubWFyZ2luQm90dG9tID0gIi0xcHgiOwotICAg
ICAgICAgIH0KLSAgICAgICAgICBlbHNlCi0gICAgICAgICAgewotICAgICAgICAgICAgZWxlbWVu
dC5jaGlsZE5vZGVzWzNdLnN0eWxlLm1hcmdpbkJvdHRvbSA9ICIwcHgiOwotICAgICAgICAgICAg
ZWxlbWVudC5jaGlsZE5vZGVzWzRdLnN0eWxlLm1hcmdpbkJvdHRvbSA9ICIwcHgiOwotICAgICAg
ICAgICAgZWxlbWVudC5jaGlsZE5vZGVzWzVdLnN0eWxlLm1hcmdpbkJvdHRvbSA9ICIwcHgiOwot
ICAgICAgICAgIH0KKyAgICAgICAgICBmaXhNYXJnaW4ocGFydHMudHIsIHRydWUsICBmYWxzZSk7
CisgICAgICAgICAgZml4TWFyZ2luKHBhcnRzLnIsICB0cnVlLCAgZmFsc2UpOworICAgICAgICAg
IGZpeE1hcmdpbihwYXJ0cy5iciwgdHJ1ZSwgIHRydWUpOworICAgICAgICAgIGZpeE1hcmdpbihw
YXJ0cy5ibCwgZmFsc2UsIHRydWUpOworICAgICAgICAgIGZpeE1hcmdpbihwYXJ0cy5iLCAgZmFs
c2UsIHRydWUpOwogICAgICAgICB9CiAgICAgICB9CiAgICAgfSwK
</data>

          </attachment>
          <attachment isobsolete="0" ispatch="1" isprivate="0" isurl="0">
            <attachid>740</attachid>
            <date>2010-05-04 11:00:00 +0200</date>
            <delta_ts>2010-05-04 11:00:29 +0200</delta_ts>
            <desc>Patch to allow for different border widths in dif dir</desc>
            <filename>Bug.2962.patch</filename>
            <type>text/plain</type>
            <size>5803</size>
            <attacher>w.si</attacher>
            
              <data encoding="base64">SW5kZXg6IGFjdGlvbi9JbWFnZUNsaXBwaW5nLnB5DQo9PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQotLS0gYWN0aW9uL0lt
YWdlQ2xpcHBpbmcucHkJKHJldmlzaW9uIDIyMDk4KQ0KKysrIGFjdGlvbi9JbWFnZUNsaXBwaW5n
LnB5CSh3b3JraW5nIGNvcHkpDQpAQCAtNDksNyArNDksNyBAQA0KICAgICAgICAgc2VsZi5faW1h
Z2VJbmZvID0gSW1hZ2VJbmZvKHNlbGYuX2NvbnNvbGUsIHNlbGYuX2NhY2hlKQogCiAKLSAgICBk
ZWYgc2xpY2Uoc2VsZiwgc291cmNlLCBkZXN0X3ByZWZpeCwgYm9yZGVyKToKKyAgICBkZWYgc2xp
Y2Uoc2VsZiwgc291cmNlLCBkZXN0X3ByZWZpeCwgYm9yZGVyLCB0cmltX3dpZHRoKToKIAogICAg
ICAgICBzb3VyY2VfZmlsZSA9IHNvdXJjZQogICAgICAgICBkZXN0X2ZpbGUgICA9IG9zLnBhdGgu
am9pbihvcy5wYXRoLmRpcm5hbWUoc291cmNlKSwgZGVzdF9wcmVmaXgpCkBAIC01OSwxOCArNTks
NDQgQEANCiAKICAgICAgICAgY3JvcF9jbWQgPSAiY29udmVydCAlcyAtY3JvcCAlc3glcyslcysl
cyArcmVwYWdlICVzIgogCisgICAgICAgIGlmIGlzaW5zdGFuY2UoYm9yZGVyLCBpbnQpOgorICAg
ICAgICAgICAgc2luZ2xlX2JvcmRlciA9IFRydWUKKyAgICAgICAgZWxpZiBub3QgaXNpbnN0YW5j
ZShib3JkZXIsIGxpc3QpIG9yIChpc2luc3RhbmNlKGJvcmRlciwgbGlzdCkgYW5kIG5vdCAobGVu
KGJvcmRlcikgPT0gNCkpOgorICAgICAgICAgICAgcmFpc2UgUnVudGltZUVycm9yLCAiQm9yZGVy
IG11c3QgYmUgb25lIGludGVnZXIgb3IgYW4gYXJyYXkgd2l0aCBmb3VyIGludGVnZXJzIgorICAg
ICAgICBlbHNlOgorICAgICAgICAgICAgc2luZ2xlX2JvcmRlciA9IEZhbHNlCisKICAgICAgICAg
IyBzcGxpdAotICAgICAgICBvcy5zeXN0ZW0oY3JvcF9jbWQgJSAoc291cmNlX2ZpbGUsIGJvcmRl
ciwgYm9yZGVyLCAwLCAwLCBkZXN0X2ZpbGUgKyAiLXRsLnBuZyIpKQotICAgICAgICBvcy5zeXN0
ZW0oY3JvcF9jbWQgJSAoc291cmNlX2ZpbGUsIGJvcmRlciwgYm9yZGVyLCBib3JkZXIsIDAsIGRl
c3RfZmlsZSArICItdC5wbmciKSkKLSAgICAgICAgb3Muc3lzdGVtKGNyb3BfY21kICUgKHNvdXJj
ZV9maWxlLCBib3JkZXIsIGJvcmRlciwgd2lkdGgtYm9yZGVyLCAwLCBkZXN0X2ZpbGUgKyAiLXRy
LnBuZyIpKQotCi0gICAgICAgIG9zLnN5c3RlbShjcm9wX2NtZCAlIChzb3VyY2VfZmlsZSwgYm9y
ZGVyLCBoZWlnaHQtMipib3JkZXIsIDAsIGJvcmRlciwgZGVzdF9maWxlICsgIi1sLnBuZyIpKQot
ICAgICAgICBvcy5zeXN0ZW0oY3JvcF9jbWQgJSAoc291cmNlX2ZpbGUsIG1pbigyMCwgd2lkdGgt
Mipib3JkZXIpLCBoZWlnaHQtMipib3JkZXIsIGJvcmRlciwgYm9yZGVyLCBkZXN0X2ZpbGUgKyAi
LWMucG5nIikpCi0gICAgICAgIG9zLnN5c3RlbShjcm9wX2NtZCAlIChzb3VyY2VfZmlsZSwgYm9y
ZGVyLCBoZWlnaHQtMipib3JkZXIsIHdpZHRoLWJvcmRlciwgYm9yZGVyLCBkZXN0X2ZpbGUgKyAi
LXIucG5nIikpCi0KLSAgICAgICAgb3Muc3lzdGVtKGNyb3BfY21kICUgKHNvdXJjZV9maWxlLCBi
b3JkZXIsIGJvcmRlciwgMCwgaGVpZ2h0LWJvcmRlciwgZGVzdF9maWxlICsgIi1ibC5wbmciKSkK
LSAgICAgICAgb3Muc3lzdGVtKGNyb3BfY21kICUgKHNvdXJjZV9maWxlLCBib3JkZXIsIGJvcmRl
ciwgYm9yZGVyLCBoZWlnaHQtYm9yZGVyLCBkZXN0X2ZpbGUgKyAiLWIucG5nIikpCi0gICAgICAg
IG9zLnN5c3RlbShjcm9wX2NtZCAlIChzb3VyY2VfZmlsZSwgYm9yZGVyLCBib3JkZXIsIHdpZHRo
LWJvcmRlciwgaGVpZ2h0LWJvcmRlciwgZGVzdF9maWxlICsgIi1ici5wbmciKSkKKyAgICAgICAg
aWYgc2luZ2xlX2JvcmRlcjoKKyAgICAgICAgICAgIG9zLnN5c3RlbShjcm9wX2NtZCAlIChzb3Vy
Y2VfZmlsZSwgYm9yZGVyLCBib3JkZXIsIDAsIDAsIGRlc3RfZmlsZSArICItdGwucG5nIikpCisg
ICAgICAgICAgICBvcy5zeXN0ZW0oY3JvcF9jbWQgJSAoc291cmNlX2ZpbGUsIGJvcmRlciwgYm9y
ZGVyLCBib3JkZXIsIDAsIGRlc3RfZmlsZSArICItdC5wbmciKSkKKyAgICAgICAgICAgIG9zLnN5
c3RlbShjcm9wX2NtZCAlIChzb3VyY2VfZmlsZSwgYm9yZGVyLCBib3JkZXIsIHdpZHRoLWJvcmRl
ciwgMCwgZGVzdF9maWxlICsgIi10ci5wbmciKSkKKyAgICAKKyAgICAgICAgICAgIG9zLnN5c3Rl
bShjcm9wX2NtZCAlIChzb3VyY2VfZmlsZSwgYm9yZGVyLCBoZWlnaHQtMipib3JkZXIsIDAsIGJv
cmRlciwgZGVzdF9maWxlICsgIi1sLnBuZyIpKQorICAgICAgICAgICAgaWYgdHJpbV93aWR0aDoK
KyAgICAgICAgICAgICAgICBvcy5zeXN0ZW0oY3JvcF9jbWQgJSAoc291cmNlX2ZpbGUsIG1pbigy
MCwgd2lkdGgtMipib3JkZXIpLCBoZWlnaHQtMipib3JkZXIsIGJvcmRlciwgYm9yZGVyLCBkZXN0
X2ZpbGUgKyAiLWMucG5nIikpICAgICAgICAgICAgCisgICAgICAgICAgICBlbHNlOgorICAgICAg
ICAgICAgICAgIG9zLnN5c3RlbShjcm9wX2NtZCAlIChzb3VyY2VfZmlsZSwgd2lkdGgtMipib3Jk
ZXIsIGhlaWdodC0yKmJvcmRlciwgYm9yZGVyLCBib3JkZXIsIGRlc3RfZmlsZSArICItYy5wbmci
KSkKKyAgICAgICAgICAgIG9zLnN5c3RlbShjcm9wX2NtZCAlIChzb3VyY2VfZmlsZSwgYm9yZGVy
LCBoZWlnaHQtMipib3JkZXIsIHdpZHRoLWJvcmRlciwgYm9yZGVyLCBkZXN0X2ZpbGUgKyAiLXIu
cG5nIikpCisgICAgCisgICAgICAgICAgICBvcy5zeXN0ZW0oY3JvcF9jbWQgJSAoc291cmNlX2Zp
bGUsIGJvcmRlciwgYm9yZGVyLCAwLCBoZWlnaHQtYm9yZGVyLCBkZXN0X2ZpbGUgKyAiLWJsLnBu
ZyIpKQorICAgICAgICAgICAgb3Muc3lzdGVtKGNyb3BfY21kICUgKHNvdXJjZV9maWxlLCBib3Jk
ZXIsIGJvcmRlciwgYm9yZGVyLCBoZWlnaHQtYm9yZGVyLCBkZXN0X2ZpbGUgKyAiLWIucG5nIikp
CisgICAgICAgICAgICBvcy5zeXN0ZW0oY3JvcF9jbWQgJSAoc291cmNlX2ZpbGUsIGJvcmRlciwg
Ym9yZGVyLCB3aWR0aC1ib3JkZXIsIGhlaWdodC1ib3JkZXIsIGRlc3RfZmlsZSArICItYnIucG5n
IikpCisgICAgICAgIGVsc2U6CisgICAgICAgICAgICBvcy5zeXN0ZW0oY3JvcF9jbWQgJSAoc291
cmNlX2ZpbGUsIGJvcmRlclszXSwgYm9yZGVyWzBdLCAwLCAwLCBkZXN0X2ZpbGUgKyAiLXRsLnBu
ZyIpKQorICAgICAgICAgICAgb3Muc3lzdGVtKGNyb3BfY21kICUgKHNvdXJjZV9maWxlLCB3aWR0
aCAtIGJvcmRlclszXSAtIGJvcmRlclsxXSwgYm9yZGVyWzBdLCBib3JkZXJbM10sIDAsIGRlc3Rf
ZmlsZSArICItdC5wbmciKSkKKyAgICAgICAgICAgIG9zLnN5c3RlbShjcm9wX2NtZCAlIChzb3Vy
Y2VfZmlsZSwgYm9yZGVyWzFdLCBib3JkZXJbMF0sIHdpZHRoIC0gYm9yZGVyWzFdLCAwLCBkZXN0
X2ZpbGUgKyAiLXRyLnBuZyIpKQorICAgIAorICAgICAgICAgICAgb3Muc3lzdGVtKGNyb3BfY21k
ICUgKHNvdXJjZV9maWxlLCBib3JkZXJbM10sIGhlaWdodCAtIGJvcmRlclswXSAtIGJvcmRlclsy
XSwgMCwgYm9yZGVyWzBdLCBkZXN0X2ZpbGUgKyAiLWwucG5nIikpCisgICAgICAgICAgICBpZiB0
cmltX3dpZHRoOgorICAgICAgICAgICAgICAgIG9zLnN5c3RlbShjcm9wX2NtZCAlIChzb3VyY2Vf
ZmlsZSwgbWluKDIwLCB3aWR0aC0gYm9yZGVyWzNdIC0gYm9yZGVyWzFdKSwgaGVpZ2h0IC0gYm9y
ZGVyWzBdIC0gYm9yZGVyWzJdLCBib3JkZXJbM10sIGJvcmRlclswXSwgZGVzdF9maWxlICsgIi1j
LnBuZyIpKSAgICAgICAgICAgIAorICAgICAgICAgICAgZWxzZToKKyAgICAgICAgICAgICAgICBv
cy5zeXN0ZW0oY3JvcF9jbWQgJSAoc291cmNlX2ZpbGUsIHdpZHRoLSBib3JkZXJbM10gLSBib3Jk
ZXJbMV0sIGhlaWdodCAtIGJvcmRlclswXSAtIGJvcmRlclsyXSwgYm9yZGVyWzNdLCBib3JkZXJb
MF0sIGRlc3RfZmlsZSArICItYy5wbmciKSkKKyAgICAgICAgICAgIG9zLnN5c3RlbShjcm9wX2Nt
ZCAlIChzb3VyY2VfZmlsZSwgYm9yZGVyWzFdLCBoZWlnaHQgLSBib3JkZXJbMF0gLSBib3JkZXJb
Ml0sIHdpZHRoIC0gYm9yZGVyWzFdLCBib3JkZXJbMF0sIGRlc3RfZmlsZSArICItci5wbmciKSkK
KyAgICAKKyAgICAgICAgICAgIG9zLnN5c3RlbShjcm9wX2NtZCAlIChzb3VyY2VfZmlsZSwgYm9y
ZGVyWzNdLCBib3JkZXJbMl0sIDAsIGhlaWdodCAtIGJvcmRlclsyXSwgZGVzdF9maWxlICsgIi1i
bC5wbmciKSkKKyAgICAgICAgICAgIG9zLnN5c3RlbShjcm9wX2NtZCAlIChzb3VyY2VfZmlsZSwg
d2lkdGgtIGJvcmRlclszXSAtIGJvcmRlclsxXSwgYm9yZGVyWzJdLCBib3JkZXJbM10sIGhlaWdo
dCAtIGJvcmRlclsyXSwgZGVzdF9maWxlICsgIi1iLnBuZyIpKQorICAgICAgICAgICAgb3Muc3lz
dGVtKGNyb3BfY21kICUgKHNvdXJjZV9maWxlLCBib3JkZXJbMV0sIGJvcmRlclsyXSwgd2lkdGgg
LSBib3JkZXJbMV0sIGhlaWdodCAtIGJvcmRlclsyXSwgZGVzdF9maWxlICsgIi1ici5wbmciKSkK
ICAgICAgICAgCiAgICAgICAgICMgZm9yIGNzczMsIHRoZSBvcmlnaW5hbCBpbWFnZXMgYXJlIHVz
ZWQKICAgICAgICAgc2h1dGlsLmNvcHlmaWxlKHNvdXJjZV9maWxlLCBkZXN0X2ZpbGUgKyAiLnBu
ZyIpCkluZGV4OiBHZW5lcmF0b3IucHkNCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCi0tLSBHZW5lcmF0b3IucHkJKHJl
dmlzaW9uIDIyMDk4KQ0KKysrIEdlbmVyYXRvci5weQkod29ya2luZyBjb3B5KQ0KQEAgLTYwNCw3
ICs2MDQsNyBAQA0KIAogICAgICAgICAgICAgIyBnZXQgY3VycmVudCBjbGFzcyBsaXN0CiAgICAg
ICAgICAgICBzY3JpcHQuY2xhc3NlcyAgPSBjb21wdXRlQ2xhc3NMaXN0KGluY2x1ZGVXaXRoRGVw
cywgZXhjbHVkZVdpdGhEZXBzLCAKLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgaW5jbHVkZU5vRGVwcywgZXhjbHVkZU5vRGVwcywgdmFyaWFudHMsIHNjcmlw
dD1zY3JpcHQpCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IGluY2x1ZGVOb0RlcHMsIGV4Y2x1ZGVOb0RlcHMsIHZhcmlhbnRzLCB2ZXJpZnlEZXBzPVRydWUs
IHNjcmlwdD1zY3JpcHQpCiAgICAgICAgICAgICAjIEV4ZWN1dGUgcmVhbCB0YXNrcwogICAgICAg
ICAgICAgaWYgImNvcHktcmVzb3VyY2VzIiBpbiBqb2JUcmlnZ2VyczoKICAgICAgICAgICAgICAg
ICBzZWxmLnJ1blJlc291cmNlcyhzY3JpcHQuY2xhc3NlcykKQEAgLTEyNTMsNyArMTI1MywxMSBA
QA0KICAgICAgICAgICAgICMgd3BiYXN0aTogUmVuYW1lOiBCb3JkZXIgPT4gSW5zZXQgYXMgaW4g
cW9veGRvbyBKUyBjb2RlCiAgICAgICAgICAgICBwcmVmaXggICAgICAgPSBpbWdzcGVjWydwcmVm
aXgnXQogICAgICAgICAgICAgYm9yZGVyX3dpZHRoID0gaW1nc3BlY1snYm9yZGVyLXdpZHRoJ10K
LSAgICAgICAgICAgIHNlbGYuX2ltYWdlQ2xpcHBlci5zbGljZShpbWFnZSwgcHJlZml4LCBib3Jk
ZXJfd2lkdGgpCisgICAgICAgICAgICBpZiAndHJpbS13aWR0aCcgaW4gaW1nc3BlYzoKKyAgICAg
ICAgICAgICAgICB0cmltX3dpZHRoID0gaW1nc3BlY1sndHJpbS13aWR0aCddCisgICAgICAgICAg
ICBlbHNlOgorICAgICAgICAgICAgICAgIHRyaW1fd2lkdGggPSBUcnVlCisgICAgICAgICAgICBz
ZWxmLl9pbWFnZUNsaXBwZXIuc2xpY2UoaW1hZ2UsIHByZWZpeCwgYm9yZGVyX3dpZHRoLCB0cmlt
X3dpZHRoKQogCiAKICAgICBkZWYgcnVuSW1hZ2VDb21iaW5pbmcoc2VsZik6Cg==
</data>

          </attachment>
          <attachment isobsolete="0" ispatch="1" isprivate="0" isurl="0">
            <attachid>819</attachid>
            <date>2010-10-14 10:06:00 +0200</date>
            <delta_ts>2010-10-14 10:06:20 +0200</delta_ts>
            <desc>Patch for 1.3-pre</desc>
            <filename>0001-Applied-patch-with-minor-improvements-and-done-some-.patch</filename>
            <type>text/plain</type>
            <size>10322</size>
            <attacher>christian.hagendorn</attacher>
            
              <data encoding="base64">RnJvbSAyYTNkODkwOTFlZGMzM2I2N2YyYzRhNDhhNTY4NTFlMWQwMzc1NWIxIE1vbiBTZXAgMTcg
MDA6MDA6MDAgMjAwMQpGcm9tOiBDaHJpc3RpYW4gSGFnZW5kb3JuIDxjaHJpc3RpYW4uaGFnZW5k
b3JuQDF1bmQxLmRlPgpEYXRlOiBUaHUsIDE0IE9jdCAyMDEwIDA5OjQ2OjM2ICswMjAwClN1Ympl
Y3Q6IFtQQVRDSF0gQXBwbGllZCBwYXRjaCB3aXRoIG1pbm9yIGltcHJvdmVtZW50cyBhbmQgZG9u
ZSBzb21lIGZvcm1hdGluZy4KCi0tLQogLi4uL3NvdXJjZS9jbGFzcy9xeC91aS9kZWNvcmF0aW9u
L0dyaWREaXYuanMgICAgICAgfCAgMTYyICsrKysrKysrKysrLS0tLS0tLS0tCiAxIGZpbGVzIGNo
YW5nZWQsIDg4IGluc2VydGlvbnMoKyksIDc0IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL3Fv
b3hkb28vZnJhbWV3b3JrL3NvdXJjZS9jbGFzcy9xeC91aS9kZWNvcmF0aW9uL0dyaWREaXYuanMg
Yi9xb294ZG9vL2ZyYW1ld29yay9zb3VyY2UvY2xhc3MvcXgvdWkvZGVjb3JhdGlvbi9HcmlkRGl2
LmpzCmluZGV4IGRlOWM2NDIuLjQyNDZiOWIgMTAwNjQ0Ci0tLSBhL3Fvb3hkb28vZnJhbWV3b3Jr
L3NvdXJjZS9jbGFzcy9xeC91aS9kZWNvcmF0aW9uL0dyaWREaXYuanMKKysrIGIvcW9veGRvby9m
cmFtZXdvcmsvc291cmNlL2NsYXNzL3F4L3VpL2RlY29yYXRpb24vR3JpZERpdi5qcwpAQCAtMzcs
MTIgKzM3LDYgQEAgcXguQ2xhc3MuZGVmaW5lKCJxeC51aS5kZWNvcmF0aW9uLkdyaWREaXYiLAog
ICBleHRlbmQgOiBxeC51aS5kZWNvcmF0aW9uLkFic3RyYWN0LAogCiAKLSAgLyoKLSAgKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioKLSAgICAgQ09OU1RSVUNUT1IKLSAgKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioK
LSAgKi8KLQogICAvKioKICAgICogQHBhcmFtIGJhc2VJbWFnZSB7U3RyaW5nfSBCYXNlIGltYWdl
IHRvIHVzZQogICAgKiBAcGFyYW0gaW5zZXRzIHtJbnRlZ2VyfEFycmF5fSBJbnNldHMgZm9yIHRo
ZSBncmlkCkBAIC02MiwxNSArNTYsNiBAQCBxeC5DbGFzcy5kZWZpbmUoInF4LnVpLmRlY29yYXRp
b24uR3JpZERpdiIsCiAgIH0sCiAKIAotCi0KLQotICAvKgotICAqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KgotICAgICBQUk9QRVJUSUVTCi0gICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqCi0gICovCi0KICAgcHJv
cGVydGllcyA6CiAgIHsKICAgICAvKioKQEAgLTEwMiwxOSArODcsMTIgQEAgcXguQ2xhc3MuZGVm
aW5lKCJxeC51aS5kZWNvcmF0aW9uLkdyaWREaXYiLAogICB9LAogCiAKLQotCi0gIC8qCi0gICoq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqCi0gICAgIE1FTUJFUlMKLSAgKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioK
LSAgKi8KLQogICBtZW1iZXJzIDoKICAgewogICAgIF9fbWFya3VwIDogbnVsbCwKICAgICBfX2lt
YWdlcyA6IG51bGwsCiAgICAgX19lZGdlcyA6IG51bGwsCisgICAgX19wYXJ0cyA6IG51bGwsCiAK
IAogICAgIC8vIG92ZXJyaWRkZW4KQEAgLTE0MSw2ICsxMTksNyBAQCBxeC5DbGFzcy5kZWZpbmUo
InF4LnVpLmRlY29yYXRpb24uR3JpZERpdiIsCiAgICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAg
Ki8KIAorCiAgICAgLy8gaW50ZXJmYWNlIGltcGxlbWVudGF0aW9uCiAgICAgZ2V0TWFya3VwIDog
ZnVuY3Rpb24oKQogICAgIHsKQEAgLTE0OCwxMyArMTI3LDE0IEBAIHF4LkNsYXNzLmRlZmluZSgi
cXgudWkuZGVjb3JhdGlvbi5HcmlkRGl2IiwKICAgICAgICAgcmV0dXJuIHRoaXMuX19tYXJrdXA7
CiAgICAgICB9CiAKLSAgICAgIHZhciBEZWNvcmF0aW9uID0gcXguYm9tLmVsZW1lbnQuRGVjb3Jh
dGlvbjsKLSAgICAgIHZhciBpbWFnZXMgPSB0aGlzLl9faW1hZ2VzOwogICAgICAgdmFyIGVkZ2Vz
ID0gdGhpcy5fX2VkZ2VzOwogCisgICAgICAvLyBJbml0aWFsaXplIHBhcnRzCisgICAgICB0aGlz
Ll9fcGFydHMgPSB7fTsKKwogICAgICAgLy8gQ3JlYXRlIGVkZ2VzIGFuZCB2ZXJ0aWNhbCBzaWRl
cwogICAgICAgLy8gT3JkZXI6IHRsLCB0LCB0ciwgYmwsIGIsIGJ0LCBsLCBjLCByCi0gICAgICB2
YXIgaHRtbCA9IFtdOworICAgICAgdmFyIGh0bWwgPSB0aGlzLl9fbWFya3VwID0gW107CiAKICAg
ICAgIC8vIE91dGVyIGZyYW1lCiAgICAgICAvLyBOb3RlOiBPdmVyZmxvdz1oaWRkZW4gaXMgbmVl
ZGVkIGZvciBTYWZhcmkgMy4xIHRvIG9taXQgc2Nyb2xsaW5nIHRocm91Z2gKQEAgLTE2MiwyNSAr
MTQyLDI1IEBAIHF4LkNsYXNzLmRlZmluZSgicXgudWkuZGVjb3JhdGlvbi5HcmlkRGl2IiwKICAg
ICAgIGh0bWwucHVzaCgnPGRpdiBzdHlsZT0icG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDow
O292ZXJmbG93OmhpZGRlbjtmb250LXNpemU6MDtsaW5lLWhlaWdodDowOyI+Jyk7CiAKICAgICAg
IC8vIFRvcDogbGVmdCwgY2VudGVyLCByaWdodAotICAgICAgaHRtbC5wdXNoKERlY29yYXRpb24u
Y3JlYXRlKGltYWdlcy50bCwgIm5vLXJlcGVhdCIsIHsgdG9wOiAwLCBsZWZ0OiAwIH0pKTsKLSAg
ICAgIGh0bWwucHVzaChEZWNvcmF0aW9uLmNyZWF0ZShpbWFnZXMudCwgInNjYWxlLXgiLCB7IHRv
cDogMCwgbGVmdDogZWRnZXMubGVmdCArICJweCIgfSkpOwotICAgICAgaHRtbC5wdXNoKERlY29y
YXRpb24uY3JlYXRlKGltYWdlcy50ciwgIm5vLXJlcGVhdCIsIHsgdG9wOiAwLCByaWdodCA6IDAg
fSkpOworICAgICAgdGhpcy5fX2FkZFBhcnQoInRsIiwgIm5vLXJlcGVhdCIsIHt0b3A6IDAsIGxl
ZnQ6IDB9KTsKKyAgICAgIHRoaXMuX19hZGRQYXJ0KCJ0IiwgInNjYWxlLXgiLCB7dG9wOiAwLCBs
ZWZ0OiBlZGdlcy5sZWZ0ICsgInB4In0pOworICAgICAgdGhpcy5fX2FkZFBhcnQoInRyIiwgIm5v
LXJlcGVhdCIsIHt0b3A6IDAsIHJpZ2h0OiAwfSk7CiAKICAgICAgIC8vIEJvdHRvbTogbGVmdCwg
Y2VudGVyLCByaWdodAotICAgICAgaHRtbC5wdXNoKERlY29yYXRpb24uY3JlYXRlKGltYWdlcy5i
bCwgIm5vLXJlcGVhdCIsIHsgYm90dG9tOiAwLCBsZWZ0OjAgfSkpOwotICAgICAgaHRtbC5wdXNo
KERlY29yYXRpb24uY3JlYXRlKGltYWdlcy5iLCAic2NhbGUteCIsIHsgYm90dG9tOiAwLCBsZWZ0
OiBlZGdlcy5sZWZ0ICsgInB4IiB9KSk7Ci0gICAgICBodG1sLnB1c2goRGVjb3JhdGlvbi5jcmVh
dGUoaW1hZ2VzLmJyLCAibm8tcmVwZWF0IiwgeyBib3R0b206IDAsIHJpZ2h0OiAwIH0pKTsKKyAg
ICAgIHRoaXMuX19hZGRQYXJ0KCJibCIsICJuby1yZXBlYXQiLCB7Ym90dG9tOiAwLCBsZWZ0OiAw
fSk7CisgICAgICB0aGlzLl9fYWRkUGFydCgiYiIsICJzY2FsZS14Iiwge2JvdHRvbTogMCwgbGVm
dDogZWRnZXMubGVmdCArICJweCJ9KTsKKyAgICAgIHRoaXMuX19hZGRQYXJ0KCJiciIsICJuby1y
ZXBlYXQiLCB7Ym90dG9tOiAwLCByaWdodDogMH0pOwogCiAgICAgICAvLyBNaWRkbGU6IGxlZnQs
IGNlbnRlciwgcmlnaHQKLSAgICAgIGh0bWwucHVzaChEZWNvcmF0aW9uLmNyZWF0ZShpbWFnZXMu
bCwgInNjYWxlLXkiLCB7IHRvcDogZWRnZXMudG9wICsgInB4IiwgbGVmdDogMCB9KSk7Ci0gICAg
ICBodG1sLnB1c2goRGVjb3JhdGlvbi5jcmVhdGUoaW1hZ2VzLmMsICJzY2FsZSIsIHsgdG9wOiBl
ZGdlcy50b3AgKyAicHgiLCBsZWZ0OiBlZGdlcy5sZWZ0ICsgInB4IiB9KSk7Ci0gICAgICBodG1s
LnB1c2goRGVjb3JhdGlvbi5jcmVhdGUoaW1hZ2VzLnIsICJzY2FsZS15IiwgeyB0b3A6IGVkZ2Vz
LnRvcCArICJweCIsIHJpZ2h0OiAwIH0pKTsKKyAgICAgIHRoaXMuX19hZGRQYXJ0KCJsIiwgInNj
YWxlLXkiLCB7dG9wOiBlZGdlcy50b3AgKyAicHgiLCBsZWZ0OiAwfSk7CisgICAgICB0aGlzLl9f
YWRkUGFydCgiYyIsICJzY2FsZSIsIHt0b3A6IGVkZ2VzLnRvcCArICJweCIsIGxlZnQ6IGVkZ2Vz
LmxlZnQgKyAicHgifSk7CisgICAgICB0aGlzLl9fYWRkUGFydCgiciIsICJzY2FsZS15Iiwge3Rv
cDogZWRnZXMudG9wICsgInB4IiwgcmlnaHQ6IDB9KTsKIAogICAgICAgLy8gT3V0ZXIgZnJhbWUK
ICAgICAgIGh0bWwucHVzaCgnPC9kaXY+Jyk7CiAKICAgICAgIC8vIFN0b3JlCi0gICAgICByZXR1
cm4gdGhpcy5fX21hcmt1cCA9IGh0bWwuam9pbigiIik7CisgICAgICByZXR1cm4gaHRtbC5qb2lu
KCIiKTsKICAgICB9LAogCiAKQEAgLTE4OSw2ICsxNjksNyBAQCBxeC5DbGFzcy5kZWZpbmUoInF4
LnVpLmRlY29yYXRpb24uR3JpZERpdiIsCiAgICAgewogICAgICAgLy8gQ29tcHV0ZSBpbm5lciBz
aXplcwogICAgICAgdmFyIGVkZ2VzID0gdGhpcy5fX2VkZ2VzOworICAgICAgdmFyIHBhcnRzID0g
dGhpcy5fX3BhcnRzOwogICAgICAgdmFyIGlubmVyV2lkdGggPSB3aWR0aCAtIGVkZ2VzLmxlZnQg
LSBlZGdlcy5yaWdodDsKICAgICAgIHZhciBpbm5lckhlaWdodCA9IGhlaWdodCAtIGVkZ2VzLnRv
cCAtIGVkZ2VzLmJvdHRvbTsKIApAQCAtMjAwLDEzICsxODEsMTEgQEAgcXguQ2xhc3MuZGVmaW5l
KCJxeC51aS5kZWNvcmF0aW9uLkdyaWREaXYiLAogICAgICAgZWxlbWVudC5zdHlsZS53aWR0aCA9
IHdpZHRoICsgInB4IjsKICAgICAgIGVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0ICsgInB4
IjsKIAotICAgICAgZWxlbWVudC5jaGlsZE5vZGVzWzFdLnN0eWxlLndpZHRoID0gaW5uZXJXaWR0
aCArICJweCI7Ci0gICAgICBlbGVtZW50LmNoaWxkTm9kZXNbNF0uc3R5bGUud2lkdGggPSBpbm5l
cldpZHRoICsgInB4IjsKLSAgICAgIGVsZW1lbnQuY2hpbGROb2Rlc1s3XS5zdHlsZS53aWR0aCA9
IGlubmVyV2lkdGggKyAicHgiOwotCi0gICAgICBlbGVtZW50LmNoaWxkTm9kZXNbNl0uc3R5bGUu
aGVpZ2h0ID0gaW5uZXJIZWlnaHQgKyAicHgiOwotICAgICAgZWxlbWVudC5jaGlsZE5vZGVzWzdd
LnN0eWxlLmhlaWdodCA9IGlubmVySGVpZ2h0ICsgInB4IjsKLSAgICAgIGVsZW1lbnQuY2hpbGRO
b2Rlc1s4XS5zdHlsZS5oZWlnaHQgPSBpbm5lckhlaWdodCArICJweCI7CisgICAgICB0aGlzLl9f
c2V0U3R5bGUoZWxlbWVudCwgcGFydHMudCwge3dpZHRoOiBpbm5lcldpZHRoICsgInB4In0pOwor
ICAgICAgdGhpcy5fX3NldFN0eWxlKGVsZW1lbnQsIHBhcnRzLmIsIHt3aWR0aDogaW5uZXJXaWR0
aCArICJweCJ9KTsKKyAgICAgIHRoaXMuX19zZXRTdHlsZShlbGVtZW50LCBwYXJ0cy5jLCB7d2lk
dGg6IGlubmVyV2lkdGggKyAicHgiLCBoZWlnaHQ6IGlubmVySGVpZ2h0ICsgInB4In0pOworICAg
ICAgdGhpcy5fX3NldFN0eWxlKGVsZW1lbnQsIHBhcnRzLmwsIHtoZWlnaHQ6IGlubmVySGVpZ2h0
ICsgInB4In0pOworICAgICAgdGhpcy5fX3NldFN0eWxlKGVsZW1lbnQsIHBhcnRzLnIsIHtoZWln
aHQ6IGlubmVySGVpZ2h0ICsgInB4In0pOwogCiAgICAgICBpZiAocXguY29yZS5WYXJpYW50Lmlz
U2V0KCJxeC5jbGllbnQiLCAibXNodG1sIikpCiAgICAgICB7CkBAIC0yMjAsMzEgKzE5OSwxNCBA
QCBxeC5DbGFzcy5kZWZpbmUoInF4LnVpLmRlY29yYXRpb24uR3JpZERpdiIsCiAgICAgICAgICAg
KHF4LmJvbS5jbGllbnQuRmVhdHVyZS5RVUlSS1NfTU9ERSAmJiBxeC5ib20uY2xpZW50LkVuZ2lu
ZS5WRVJTSU9OIDwgOCkKICAgICAgICAgKQogICAgICAgICB7Ci0gICAgICAgICAgaWYgKHdpZHRo
JTI9PTEpCi0gICAgICAgICAgewotICAgICAgICAgICAgZWxlbWVudC5jaGlsZE5vZGVzWzJdLnN0
eWxlLm1hcmdpblJpZ2h0ID0gIi0xcHgiOwotICAgICAgICAgICAgZWxlbWVudC5jaGlsZE5vZGVz
WzVdLnN0eWxlLm1hcmdpblJpZ2h0ID0gIi0xcHgiOwotICAgICAgICAgICAgZWxlbWVudC5jaGls
ZE5vZGVzWzhdLnN0eWxlLm1hcmdpblJpZ2h0ID0gIi0xcHgiOwotICAgICAgICAgIH0KLSAgICAg
ICAgICBlbHNlCi0gICAgICAgICAgewotICAgICAgICAgICAgZWxlbWVudC5jaGlsZE5vZGVzWzJd
LnN0eWxlLm1hcmdpblJpZ2h0ID0gIjBweCI7Ci0gICAgICAgICAgICBlbGVtZW50LmNoaWxkTm9k
ZXNbNV0uc3R5bGUubWFyZ2luUmlnaHQgPSAiMHB4IjsKLSAgICAgICAgICAgIGVsZW1lbnQuY2hp
bGROb2Rlc1s4XS5zdHlsZS5tYXJnaW5SaWdodCA9ICIwcHgiOwotICAgICAgICAgIH0KLQotICAg
ICAgICAgIGlmIChoZWlnaHQlMj09MSkKLSAgICAgICAgICB7Ci0gICAgICAgICAgICBlbGVtZW50
LmNoaWxkTm9kZXNbM10uc3R5bGUubWFyZ2luQm90dG9tID0gIi0xcHgiOwotICAgICAgICAgICAg
ZWxlbWVudC5jaGlsZE5vZGVzWzRdLnN0eWxlLm1hcmdpbkJvdHRvbSA9ICItMXB4IjsKLSAgICAg
ICAgICAgIGVsZW1lbnQuY2hpbGROb2Rlc1s1XS5zdHlsZS5tYXJnaW5Cb3R0b20gPSAiLTFweCI7
Ci0gICAgICAgICAgfQotICAgICAgICAgIGVsc2UKLSAgICAgICAgICB7Ci0gICAgICAgICAgICBl
bGVtZW50LmNoaWxkTm9kZXNbM10uc3R5bGUubWFyZ2luQm90dG9tID0gIjBweCI7Ci0gICAgICAg
ICAgICBlbGVtZW50LmNoaWxkTm9kZXNbNF0uc3R5bGUubWFyZ2luQm90dG9tID0gIjBweCI7Ci0g
ICAgICAgICAgICBlbGVtZW50LmNoaWxkTm9kZXNbNV0uc3R5bGUubWFyZ2luQm90dG9tID0gIjBw
eCI7Ci0gICAgICAgICAgfQorICAgICAgICAgIHZhciBtYXJnaW5SaWdodCAgPSB3aWR0aCAgJSAy
ID8gIi0xcHgiIDogIjBweCI7CisgICAgICAgICAgdmFyIG1hcmdpbkJvdHRvbSA9IGhlaWdodCAl
IDIgPyAiLTFweCIgOiAiMHB4IjsKKworICAgICAgICAgIHRoaXMuX19zZXRTdHlsZShlbGVtZW50
LCBwYXJ0cy50ciwge21hcmdpblJpZ2h0OiBtYXJnaW5SaWdodH0pOworICAgICAgICAgIHRoaXMu
X19zZXRTdHlsZShlbGVtZW50LCBwYXJ0cy5yLCB7bWFyZ2luUmlnaHQ6IG1hcmdpblJpZ2h0fSk7
CisgICAgICAgICAgdGhpcy5fX3NldFN0eWxlKGVsZW1lbnQsIHBhcnRzLmJyLCB7bWFyZ2luUmln
aHQ6IG1hcmdpblJpZ2h0LCBtYXJnaW5Cb3R0b206IG1hcmdpbkJvdHRvbX0pOworICAgICAgICAg
IHRoaXMuX19zZXRTdHlsZShlbGVtZW50LCBwYXJ0cy5ibCwge21hcmdpbkJvdHRvbTogbWFyZ2lu
Qm90dG9tfSk7CisgICAgICAgICAgdGhpcy5fX3NldFN0eWxlKGVsZW1lbnQsIHBhcnRzLmIsIHtt
YXJnaW5Cb3R0b206IG1hcmdpbkJvdHRvbX0pOwogICAgICAgICB9CiAgICAgICB9CiAgICAgfSwK
QEAgLTI1Niw3ICsyMTgsNiBAQCBxeC5DbGFzcy5kZWZpbmUoInF4LnVpLmRlY29yYXRpb24uR3Jp
ZERpdiIsCiAgICAgfSwKIAogCi0KICAgICAvKgogICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAg
ICAgUFJPUEVSVFkgQVBQTFkgUk9VVElORVMKQEAgLTMwMyw2ICsyNjQsMTMgQEAgcXguQ2xhc3Mu
ZGVmaW5lKCJxeC51aS5kZWNvcmF0aW9uLkdyaWREaXYiLAogICAgIH0sCiAKIAorICAgIC8qCisg
ICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tCisgICAgICBIRUxQRVIgTUVUSE9EUworICAgIC0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLQorICAgICovCisKKwogICAgIC8qKgogICAgICAqIFJlc29sdmUgdGhlIHVybCBv
ZiB0aGUgZ2l2ZW4gaW1hZ2UKICAgICAgKgpAQCAtMzI2LDIyICsyOTQsNjggQEAgcXguQ2xhc3Mu
ZGVmaW5lKCJxeC51aS5kZWNvcmF0aW9uLkdyaWREaXYiLAogICAgICAgdmFyIFJlc291cmNlTWFu
YWdlciA9IHF4LnV0aWwuUmVzb3VyY2VNYW5hZ2VyLmdldEluc3RhbmNlKCk7CiAKICAgICAgIHJl
dHVybiB7Ci0gICAgICAgIHRvcCA6IFJlc291cmNlTWFuYWdlci5nZXRJbWFnZUhlaWdodChpbWFn
ZXMudCksCi0gICAgICAgIGJvdHRvbSA6IFJlc291cmNlTWFuYWdlci5nZXRJbWFnZUhlaWdodChp
bWFnZXMuYiksCi0gICAgICAgIGxlZnQgOiBSZXNvdXJjZU1hbmFnZXIuZ2V0SW1hZ2VXaWR0aChp
bWFnZXMubCksCi0gICAgICAgIHJpZ2h0IDogUmVzb3VyY2VNYW5hZ2VyLmdldEltYWdlV2lkdGgo
aW1hZ2VzLnIpCisgICAgICAgIHRvcCA6IFJlc291cmNlTWFuYWdlci5nZXRJbWFnZUhlaWdodChp
bWFnZXMudCkgfHwgMCwKKyAgICAgICAgYm90dG9tIDogUmVzb3VyY2VNYW5hZ2VyLmdldEltYWdl
SGVpZ2h0KGltYWdlcy5iKSB8fCAwLAorICAgICAgICBsZWZ0IDogUmVzb3VyY2VNYW5hZ2VyLmdl
dEltYWdlV2lkdGgoaW1hZ2VzLmwpIHx8IDAsCisgICAgICAgIHJpZ2h0IDogUmVzb3VyY2VNYW5h
Z2VyLmdldEltYWdlV2lkdGgoaW1hZ2VzLnIpIHx8IDAKICAgICAgIH07CisgICAgfSwKKworCisg
ICAgLyoqCisgICAgICogSGVscGVyIG1ldGhvZCB0byBhZGQgdGhlIHBhcnQgd2l0aCB0aGUgcGFz
c2VkIHJlcGVhdCBhbmQgc3R5bGUgdmFsdWVzIHRvIHRoZSBtYXJrdXAuCisgICAgICoKKyAgICAg
KiBAcGFyYW0gcGFydCB7U3RyaW5nfSBQYXJ0IG5hbWUgKHRsLCB0LCB0ciwgYmwsIGIsIGJ0LCBs
LCBjLCByKS4KKyAgICAgKiBAcGFyYW0gcmVwZWF0IHtTdHJpbmd9IFJlcGVhdCBtb2RlIG9mIHRo
ZSBpbWFnZS4KKyAgICAgKiBAcGFyYW0gc3R5bGUge01hcH0gU3R5bGUgYXR0cmlidXRlcyB0byBh
cHBseS4KKyAgICAgKi8KKyAgICBfX2FkZFBhcnQgOiBmdW5jdGlvbihwYXJ0LCByZXBlYXQsIHN0
eWxlKQorICAgIHsKKyAgICAgIHZhciBpbWFnZXMgPSB0aGlzLl9faW1hZ2VzOworICAgICAgdmFy
IGVkZ2VzID0gdGhpcy5fX2VkZ2VzOworICAgICAgdmFyIHBhcnRzID0gdGhpcy5fX3BhcnRzOwor
ICAgICAgdmFyIGh0bWwgPSB0aGlzLl9fbWFya3VwOworCisgICAgICBpZiAoKHN0eWxlLnRvcCAh
PT0gMCB8fCBlZGdlcy50b3ApICYmCisgICAgICAgICAgKHN0eWxlLmxlZnQgIT09IDAgfHwgZWRn
ZXMubGVmdCkgJiYKKyAgICAgICAgICAoc3R5bGUuYm90dG9tICE9PSAwIHx8IGVkZ2VzLmJvdHRv
bSkgJiYKKyAgICAgICAgICAoc3R5bGUucmlnaHQgIT09IDAgfHwgZWRnZXMucmlnaHQpKQorICAg
ICAgeworICAgICAgICBwYXJ0c1twYXJ0XSA9IGh0bWwubGVuZ3RoIC0gMTsKKyAgICAgICAgaHRt
bC5wdXNoKHF4LmJvbS5lbGVtZW50LkRlY29yYXRpb24uY3JlYXRlKGltYWdlc1twYXJ0XSwgcmVw
ZWF0LCBzdHlsZSkpOworICAgICAgfQorICAgICAgZWxzZQorICAgICAgeworICAgICAgICBwYXJ0
c1twYXJ0XSA9IC0xOworICAgICAgfQorICAgIH0sCisKKworICAgIC8qKgorICAgICAqIEhlbHBl
ciBtZXRob2QgdG8gc2V0IHRoZSB0aGUgcGFzc2VkIHN0eWxlIHRvIGEgY2hpbGQgZWxlbWVudC4K
KyAgICAgKgorICAgICAqIEBwYXJhbSBlbGVtZW50IHtFbGVtZW50fSBSb290IGVsZW1lbnQgd2hp
Y2ggY29udGFpbnMgdGhlIGNoaWxkcmVuIChwYXJ0cykuCisgICAgICogQHBhcmFtIGluZGV4IHtJ
bnRlZ2VyfSBDaGlsZCAocGFydCkgaW5kZXggdG8gYXBwbHkgc3R5bGUuCisgICAgICogQHBhcmFt
IHN0eWxlIHtNYXB9IFN0eWxlIGF0dHJpYnV0ZXMgdG8gYXBwbHkuCisgICAgICovCisgICAgX19z
ZXRTdHlsZSA6IGZ1bmN0aW9uKGVsZW1lbnQsIGluZGV4LCBzdHlsZSkKKyAgICB7CisgICAgICBp
ZiAoaW5kZXggPj0gMCkKKyAgICAgIHsKKyAgICAgICAgdmFyIHBhcnQgPSBlbGVtZW50LmNoaWxk
Tm9kZXNbaW5kZXhdOworICAgICAgICBxeC5ib20uZWxlbWVudC5TdHlsZS5zZXRTdHlsZXMocGFy
dCwgc3R5bGUpOworICAgICAgfQogICAgIH0KICAgfSwKIAogCi0KICAgLyoKICAgKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioKICAgICAgREVTVFJVQ1RPUgogICAqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogICAq
LwogCisKICAgZGVzdHJ1Y3QgOiBmdW5jdGlvbigpIHsKICAgICB0aGlzLl9fbWFya3VwID0gdGhp
cy5fX2ltYWdlcyA9IHRoaXMuX19lZGdlcyA9IG51bGw7CiAgIH0KLS0gCjEuNy4wLjIubXN5c2dp
dC4wCgo=
</data>

          </attachment>
      

    </bug>