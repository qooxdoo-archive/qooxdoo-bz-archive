<bug>
          <bug_id>3208</bug_id>
          
          <creation_ts>2009-12-10 09:05:00 +0100</creation_ts>
          <short_desc>Drag selection sometimes inaccurate</short_desc>
          <delta_ts>2014-03-03 15:27:03 +0100</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>1</classification_id>
          <classification>Unclassified</classification>
          <product>framework</product>
          <component>desktop.core</component>
          <version>master</version>
          <rep_platform>All</rep_platform>
          <op_sys>All</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>FIXED</resolution>
          
          
          
          
          
          <priority>P2</priority>
          <bug_severity>major</bug_severity>
          <target_milestone>1.0</target_milestone>
          
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Martin Wittemann">martin.wittemann</reporter>
          <assigned_to name="Christian Hagendorn">christian.hagendorn</assigned_to>
          
          <qa_contact name="qooxdoo bugs mailing list">qooxdoo-bugs</qa_contact>
          <cf_browser>---</cf_browser>
          

      

      

      

          <long_desc isprivate="0">
            <commentid>15640</commentid>
            <who name="Martin Wittemann">martin.wittemann</who>
            <bug_when>2009-12-10 09:05:20 +0100</bug_when>
            <thetext>Here are the steps to reproduce it:
1. Open the tree demo (http://demo.qooxdoo.org/devel/demobrowser/demo/widget/Tree.html?qx.theme=qx.theme.Modern)
2. Enable drag selection with the checkbox on the right
3. Drag-Select the index folder and the trash folder above (inbox folder will open)
4. Close the inbox folder
5. Try the same selection again

The selection cursor seems to be about 4 list items too close to the top and the opening behavior of the inbox folder seems to be strange too.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>15643</commentid>
            <who name="Andreas Ecker">qooxdoo</who>
            <bug_when>2009-12-10 10:53:07 +0100</bug_when>
            <thetext>to Chris. Martin, please make sure not too many samples are unecessarily affected UX-wise by this secondary feature.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>15763</commentid>
            <who name="Christian Hagendorn">christian.hagendorn</who>
            <bug_when>2009-12-11 18:23:58 +0100</bug_when>
            <thetext>Accepted.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>15764</commentid>
            <who name="Christian Hagendorn">christian.hagendorn</who>
            <bug_when>2009-12-11 18:28:02 +0100</bug_when>
            <thetext>Fixed the issue with wrong selection if the users tries to select again. Done on trunk with rev. 21125. But the opening behavior does still exist.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>15802</commentid>
              <attachid>678</attachid>
            <who name="Christian Hagendorn">christian.hagendorn</who>
            <bug_when>2009-12-14 11:47:59 +0100</bug_when>
            <thetext>Created attachment 678
Patch which fix the open/close problem.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>15890</commentid>
            <who name="Christian Hagendorn">christian.hagendorn</who>
            <bug_when>2009-12-15 14:56:41 +0100</bug_when>
            <thetext>Fixed on trunk with rev. 21195.</thetext>
          </long_desc>
          <long_desc isprivate="0">
            <commentid>39327</commentid>
            <who name="Martin Wittemann">martin.wittemann</who>
            <bug_when>2014-03-03 15:27:03 +0100</bug_when>
            <thetext>Closed all bugs already shipped with a release.</thetext>
          </long_desc>
      
          <attachment isobsolete="0" ispatch="0" isprivate="0" isurl="0">
            <attachid>678</attachid>
            <date>2009-12-14 11:47:00 +0100</date>
            <delta_ts>2009-12-14 11:47:59 +0100</delta_ts>
            <desc>Patch which fix the open/close problem.</desc>
            <filename>TreeSelection.patch</filename>
            <type>text/x-diff</type>
            <size>4584</size>
            <attacher>christian.hagendorn</attacher>
            
              <data encoding="base64">SW5kZXg6IGZyYW1ld29yay9zb3VyY2UvY2xhc3MvcXgvdWkvY29yZS9NTXVsdGlTZWxlY3Rpb25I
YW5kbGluZy5qcw0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PQ0KLS0tIGZyYW1ld29yay9zb3VyY2UvY2xhc3MvcXgvdWkv
Y29yZS9NTXVsdGlTZWxlY3Rpb25IYW5kbGluZy5qcwkocmV2aXNpb24gMjExMzApDQorKysgZnJh
bWV3b3JrL3NvdXJjZS9jbGFzcy9xeC91aS9jb3JlL01NdWx0aVNlbGVjdGlvbkhhbmRsaW5nLmpz
CSh3b3JraW5nIGNvcHkpDQpAQCAtMzEwLDYgKzMxMCwyMyBAQA0KICAgICB9LAogCiAKKyAgICAv
KioKKyAgICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IGxlYWQgaXRlbS4gR2VuZXJhbGx5IHRoZSBp
dGVtIHdoaWNoIHdhcyBsYXN0IG1vZGlmaWVkCisgICAgICogYnkgdGhlIHVzZXIgKGNsaWNrZWQg
b24gZXRjLikKKyAgICAgKgorICAgICAqIEByZXR1cm4ge3F4LnVpLmNvcmUuV2lkZ2V0fSBUaGUg
bGVhZCBpdGVtIG9yIDxjb2RlPm51bGw8L2NvZGU+CisgICAgICovCisgICAgX2dldExlYWRJdGVt
IDogZnVuY3Rpb24oKSB7CisgICAgICB2YXIgbW9kZSA9IHRoaXMuX19tYW5hZ2VyLmdldE1vZGUo
KTsKKyAgICAgIAorICAgICAgaWYgKG1vZGUgPT09ICJzaW5nbGUiIHx8IG1vZGUgPT09ICJvbmUi
KSB7CisgICAgICAgIHJldHVybiB0aGlzLl9fbWFuYWdlci5nZXRTZWxlY3RlZEl0ZW0oKTsKKyAg
ICAgIH0gZWxzZSB7CisgICAgICAgIHJldHVybiB0aGlzLl9fbWFuYWdlci5nZXRMZWFkSXRlbSgp
OworICAgICAgfQorICAgIH0sCisKKwogICAgIC8qCiAgICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAg
ICAgICBQUk9QRVJUWSBBUFBMWSBST1VUSU5FUwpJbmRleDogZnJhbWV3b3JrL3NvdXJjZS9jbGFz
cy9xeC91aS9jb3JlL3NlbGVjdGlvbi9BYnN0cmFjdC5qcw0KPT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KLS0tIGZyYW1l
d29yay9zb3VyY2UvY2xhc3MvcXgvdWkvY29yZS9zZWxlY3Rpb24vQWJzdHJhY3QuanMJKHJldmlz
aW9uIDIxMTMwKQ0KKysrIGZyYW1ld29yay9zb3VyY2UvY2xhc3MvcXgvdWkvY29yZS9zZWxlY3Rp
b24vQWJzdHJhY3QuanMJKHdvcmtpbmcgY29weSkNCkBAIC0yNjUsNyArMjY1LDcgQEANCiAgICAg
ICAgIH0KICAgICAgIH0KIAotICAgICAgaWYgKHRoaXMuX2dldExlYWRJdGVtKCkgPT0gaXRlbSkg
eworICAgICAgaWYgKHRoaXMuZ2V0TGVhZEl0ZW0oKSA9PSBpdGVtKSB7CiAgICAgICAgIHRoaXMu
X3NldExlYWRJdGVtKG51bGwpOwogICAgICAgfQogCkBAIC00NzcsOCArNDc3LDI5IEBADQogICAg
ICAqIGJ5IHRoZSB1c2VyIChjbGlja2VkIG9uIGV0Yy4pCiAgICAgICoKICAgICAgKiBAcmV0dXJu
IHtPYmplY3R9IFRoZSBsZWFkIGl0ZW0gb3IgPGNvZGU+bnVsbDwvY29kZT4KKyAgICAgKiAKKyAg
ICAgKiBAZGVwcmVjYXRlZCBVc2UgcHVibGljICdnZXRMZWFkSXRlbScgaW5zdGVhZC4KICAgICAg
Ki8KICAgICBfZ2V0TGVhZEl0ZW0gOiBmdW5jdGlvbigpIHsKKyAgICAgIGlmIChxeC5jb3JlLlZh
cmlhbnQuaXNTZXQoInF4LmRlYnVnIiwgIm9uIikpCisgICAgICB7CisgICAgICAgIHF4LmxvZy5M
b2dnZXIuZGVwcmVjYXRlZE1ldGhvZFdhcm5pbmcoCisgICAgICAgICAgYXJndW1lbnRzLmNhbGxl
ZSwKKyAgICAgICAgICAiUGxlYXNlIHVzZSBwdWJsaWMgJ2dldExlYWRJdGVtJyBpbnN0ZWFkLiIK
KyAgICAgICAgKTsKKyAgICAgIH0KKyAgICAgIAorICAgICAgcmV0dXJuIHRoaXMuZ2V0TGVhZEl0
ZW0oKTsKKyAgICB9LAorCisKKyAgICAvKioKKyAgICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IGxl
YWQgaXRlbS4gR2VuZXJhbGx5IHRoZSBpdGVtIHdoaWNoIHdhcyBsYXN0IG1vZGlmaWVkCisgICAg
ICogYnkgdGhlIHVzZXIgKGNsaWNrZWQgb24gZXRjLikKKyAgICAgKgorICAgICAqIEByZXR1cm4g
e09iamVjdH0gVGhlIGxlYWQgaXRlbSBvciA8Y29kZT5udWxsPC9jb2RlPgorICAgICAqLworICAg
IGdldExlYWRJdGVtIDogZnVuY3Rpb24oKSB7CiAgICAgICByZXR1cm4gdGhpcy5fX2xlYWRJdGVt
ICE9PSBudWxsID8gdGhpcy5fX2xlYWRJdGVtIDogbnVsbDsKICAgICB9LAogCkBAIC0xMzYwLDcg
KzEzODEsNyBAQA0KICAgICAgIH0KICAgICAgIGVsc2UgaWYgKGtleSA9PT0gIlNwYWNlIikKICAg
ICAgIHsKLSAgICAgICAgdmFyIGxlYWQgPSB0aGlzLl9nZXRMZWFkSXRlbSgpOworICAgICAgICB2
YXIgbGVhZCA9IHRoaXMuZ2V0TGVhZEl0ZW0oKTsKICAgICAgICAgaWYgKGxlYWQgJiYgIWlzU2hp
ZnRQcmVzc2VkKQogICAgICAgICB7CiAgICAgICAgICAgaWYgKGlzQ3RybFByZXNzZWQgfHwgbW9k
ZSA9PT0gImFkZGl0aXZlIikgewpAQCAtMTM3Nyw3ICsxMzk4LDcgQEANCiAgICAgICAgIGlmICht
b2RlID09PSAic2luZ2xlIiB8fCBtb2RlID09ICJvbmUiKSB7CiAgICAgICAgICAgY3VycmVudCA9
IHRoaXMuX2dldFNlbGVjdGVkSXRlbSgpOwogICAgICAgICB9IGVsc2UgewotICAgICAgICAgIGN1
cnJlbnQgPSB0aGlzLl9nZXRMZWFkSXRlbSgpOworICAgICAgICAgIGN1cnJlbnQgPSB0aGlzLmdl
dExlYWRJdGVtKCk7CiAgICAgICAgIH0KIAogICAgICAgICBpZiAoY3VycmVudCAhPT0gbnVsbCkK
SW5kZXg6IGZyYW1ld29yay9zb3VyY2UvY2xhc3MvcXgvdWkvdHJlZS9TZWxlY3Rpb25NYW5hZ2Vy
LmpzDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09DQotLS0gZnJhbWV3b3JrL3NvdXJjZS9jbGFzcy9xeC91aS90cmVlL1Nl
bGVjdGlvbk1hbmFnZXIuanMJKHJldmlzaW9uIDIxMTMwKQ0KKysrIGZyYW1ld29yay9zb3VyY2Uv
Y2xhc3MvcXgvdWkvdHJlZS9TZWxlY3Rpb25NYW5hZ2VyLmpzCSh3b3JraW5nIGNvcHkpDQpAQCAt
MTM3LDE1ICsxMzcsNyBAQA0KICAgICAgICAgICBicmVhazsKIAogICAgICAgICBjYXNlICJsZWZ0
IjoKLSAgICAgICAgICBpZiAoaXRlbS5pc09wZW5hYmxlKCkgJiYgaXRlbS5pc09wZW4oKSkgewot
ICAgICAgICAgICAgaXRlbS5zZXRPcGVuKGZhbHNlKTsKLSAgICAgICAgICB9Ci0gICAgICAgICAg
YnJlYWs7Ci0KICAgICAgICAgY2FzZSAicmlnaHQiOgotICAgICAgICAgIGlmIChpdGVtLmlzT3Bl
bmFibGUoKSAmJiAhaXRlbS5pc09wZW4oKSkgewotICAgICAgICAgICAgaXRlbS5zZXRPcGVuKHRy
dWUpOwotICAgICAgICAgIH0KICAgICAgICAgICBicmVhazsKICAgICAgIH0KIApJbmRleDogZnJh
bWV3b3JrL3NvdXJjZS9jbGFzcy9xeC91aS90cmVlL1RyZWUuanMNCj09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCi0tLSBm
cmFtZXdvcmsvc291cmNlL2NsYXNzL3F4L3VpL3RyZWUvVHJlZS5qcwkocmV2aXNpb24gMjExMzAp
DQorKysgZnJhbWV3b3JrL3NvdXJjZS9jbGFzcy9xeC91aS90cmVlL1RyZWUuanMJKHdvcmtpbmcg
Y29weSkNCkBAIC02OSw2ICs2OSw3IEBADQogICAgIHRoaXMuaW5pdFJvb3RPcGVuQ2xvc2UoKTsK
IAogICAgIHRoaXMuYWRkTGlzdGVuZXIoImNoYW5nZVNlbGVjdGlvbiIsIHRoaXMuX29uQ2hhbmdl
U2VsZWN0aW9uLCB0aGlzKTsKKyAgICB0aGlzLmFkZExpc3RlbmVyKCJrZXlwcmVzcyIsIHRoaXMu
X29uS2V5UHJlc3MsIHRoaXMpOwogICB9LAogCiAKQEAgLTQ3OSw2ICs0ODAsMzYgQEANCiAgICAg
ICAgICAgZm9sZGVyLnNldE9wZW4odHJ1ZSk7CiAgICAgICAgIH0KICAgICAgIH0KKyAgICB9LAor
CisKKyAgICAvKioKKyAgICAgKiBFdmVudCBoYW5kbGVyIGZvciBrZXkgcHJlc3MgZXZlbnRzLiBP
cGVuIGFuZCBjbG9zZSB0aGUgY3VycmVudCBzZWxlY3RlZAorICAgICAqIGl0ZW0gb24ga2V5IGxl
ZnQgYW5kIHJpZ2h0IHByZXNzLgorICAgICAqCisgICAgICogQHBhcmFtIGUge3F4LmV2ZW50LnR5
cGUuS2V5U2VxdWVuY2V9IGtleSBldmVudC4KKyAgICAgKi8KKyAgICBfb25LZXlQcmVzcyA6IGZ1
bmN0aW9uKGUpCisgICAgeworICAgICAgdmFyIGl0ZW0gPSB0aGlzLl9nZXRMZWFkSXRlbSgpOwor
CisgICAgICBpZiAoaXRlbSAhPT0gbnVsbCkKKyAgICAgIHsKKyAgICAgICAgc3dpdGNoKGUuZ2V0
S2V5SWRlbnRpZmllcigpKQorICAgICAgICB7CisgICAgICAgICAgY2FzZSAiTGVmdCI6CisgICAg
ICAgICAgICBpZiAoaXRlbS5pc09wZW5hYmxlKCkgJiYgaXRlbS5pc09wZW4oKSkgeworICAgICAg
ICAgICAgICBpdGVtLnNldE9wZW4oZmFsc2UpOworICAgICAgICAgICAgfQorICAgICAgICAgICAg
YnJlYWs7CisKKyAgICAgICAgICBjYXNlICJSaWdodCI6CisgICAgICAgICAgICBpZiAoaXRlbS5p
c09wZW5hYmxlKCkgJiYgIWl0ZW0uaXNPcGVuKCkpIHsKKyAgICAgICAgICAgICAgaXRlbS5zZXRP
cGVuKHRydWUpOworICAgICAgICAgICAgfQorICAgICAgICAgICAgYnJlYWs7CisgICAgICAgIH0K
KyAgICAgIH0KICAgICB9CiAgIH0sCiAK
</data>

          </attachment>
      

    </bug>